<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveLift #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE Trustworthy #-}</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- Module      :   Grisette.Internal.Core.Data.Class.CEGISSolver</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- Copyright   :   (c) Sirui Lu 2021-2023</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- License     :   BSD-3-Clause (see the LICENSE file)</span><span>
</span><span id="line-19"></span><span class="hs-comment">--</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- Maintainer  :   siruilu@cs.washington.edu</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- Stability   :   Experimental</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- Portability :   GHC only</span><span>
</span><span id="line-23"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html"><span class="hs-identifier">Grisette.Internal.Core.Data.Class.CEGISSolver</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Note for the examples</span></span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-comment">-- | The examples assumes that the [z3](https://github.com/Z3Prover/z3)</span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-comment">-- solver is available in @PATH@.</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Generic CEGIS interface</span></span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#VerifierResult"><span class="hs-identifier">VerifierResult</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#SynthesisConstraintFun"><span class="hs-identifier">SynthesisConstraintFun</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#VerifierFun"><span class="hs-identifier">VerifierFun</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier">CEGISResult</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverGenericCEGIS"><span class="hs-identifier">solverGenericCEGIS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverGenericCEGISWithRefinement"><span class="hs-identifier">solverGenericCEGISWithRefinement</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#genericCEGIS"><span class="hs-identifier">genericCEGIS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#genericCEGISWithRefinement"><span class="hs-identifier">genericCEGISWithRefinement</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><span class="hs-comment">-- * CEGIS interfaces with pre/post conditions</span></span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier">CEGISCondition</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPostCond"><span class="hs-identifier">cegisPostCond</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPrePost"><span class="hs-identifier">cegisPrePost</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisMultiInputs"><span class="hs-identifier">solverCegisMultiInputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegis"><span class="hs-identifier">solverCegis</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExcept"><span class="hs-identifier">solverCegisExcept</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptStdVC"><span class="hs-identifier">solverCegisExceptStdVC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptVC"><span class="hs-identifier">solverCegisExceptVC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptMultiInputs"><span class="hs-identifier">solverCegisExceptMultiInputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptStdVCMultiInputs"><span class="hs-identifier">solverCegisExceptStdVCMultiInputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptVCMultiInputs"><span class="hs-identifier">solverCegisExceptVCMultiInputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAll"><span class="hs-identifier">solverCegisForAll</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAllExcept"><span class="hs-identifier">solverCegisForAllExcept</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAllExceptStdVC"><span class="hs-identifier">solverCegisForAllExceptStdVC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAllExceptVC"><span class="hs-identifier">solverCegisForAllExceptVC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisMultiInputs"><span class="hs-identifier">cegisMultiInputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegis"><span class="hs-identifier">cegis</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExcept"><span class="hs-identifier">cegisExcept</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptStdVC"><span class="hs-identifier">cegisExceptStdVC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptVC"><span class="hs-identifier">cegisExceptVC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptMultiInputs"><span class="hs-identifier">cegisExceptMultiInputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptStdVCMultiInputs"><span class="hs-identifier">cegisExceptStdVCMultiInputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptVCMultiInputs"><span class="hs-identifier">cegisExceptVCMultiInputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisForAll"><span class="hs-identifier">cegisForAll</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisForAllExcept"><span class="hs-identifier">cegisForAllExcept</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisForAllExceptStdVC"><span class="hs-identifier">cegisForAllExceptStdVC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisForAllExceptVC"><span class="hs-identifier">cegisForAllExceptVC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">where</span><span class="hs-cpp">

#if MIN_VERSION_base(4,20,0)
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">partition</span></span><span class="hs-special">)</span><span class="hs-cpp">
#else
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.List</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">foldl'</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">partition</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NFData</span></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Binary</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Binary</span></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bytes.Serial</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Serial</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">deserialize</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">serialize</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Hashable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Hashable</span></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Serialize</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Cereal</span></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Generics.Deriving</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Default</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Default</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html"><span class="hs-identifier">Grisette.Internal.Core.Control.Exception</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#VerificationConditions"><span class="hs-identifier">VerificationConditions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#AssertionViolation"><span class="hs-identifier">AssertionViolation</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#AssumptionViolation"><span class="hs-identifier">AssumptionViolation</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.EvalSym.html"><span class="hs-identifier">Grisette.Internal.Core.Data.Class.EvalSym</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier">EvalSym</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#evalSym"><span class="hs-identifier">evalSym</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.ExtractSym.html"><span class="hs-identifier">Grisette.Internal.Core.Data.Class.ExtractSym</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier">ExtractSym</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#extractSym"><span class="hs-identifier">extractSym</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.LogicalOp.html"><span class="hs-identifier">Grisette.Internal.Core.Data.Class.LogicalOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.LogicalOp.html#LogicalOp"><span class="hs-identifier">LogicalOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.LogicalOp.html#symNot"><span class="hs-identifier">symNot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.LogicalOp.html#.%26%26"><span class="hs-operator">(.&amp;&amp;)</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.Mergeable.html"><span class="hs-identifier">Grisette.Internal.Core.Data.Class.Mergeable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Mergeable.html#Mergeable"><span class="hs-identifier">Mergeable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.ModelOps.html"><span class="hs-identifier">Grisette.Internal.Core.Data.Class.ModelOps</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.ModelOps.html#ModelOps"><span class="hs-identifier">ModelOps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.ModelOps.html#exact"><span class="hs-identifier">exact</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.ModelOps.html#exceptFor"><span class="hs-identifier">exceptFor</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-97"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.ModelOps.html#SymbolSetOps"><span class="hs-identifier">SymbolSetOps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.ModelOps.html#isEmptySet"><span class="hs-identifier">isEmptySet</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PPrint.html"><span class="hs-identifier">Grisette.Internal.Core.Data.Class.PPrint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.PPrint.html#PPrint"><span class="hs-identifier">PPrint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.PPrint.html#pformat"><span class="hs-identifier">pformat</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;+&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html"><span class="hs-identifier">Grisette.Internal.Core.Data.Class.PlainUnion</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier">PlainUnion</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-102"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#simpleMerge"><span class="hs-identifier">simpleMerge</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.SimpleMergeable.html"><span class="hs-identifier">Grisette.Internal.Core.Data.Class.SimpleMergeable</span></a></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SimpleMergeable.html#SimpleMergeable"><span class="hs-identifier">SimpleMergeable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.Solvable.html"><span class="hs-identifier">Grisette.Internal.Core.Data.Class.Solvable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.Solvable.html#Solvable"><span class="hs-identifier">Solvable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier">con</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.Solver.html"><span class="hs-identifier">Grisette.Internal.Core.Data.Class.Solver</span></a></span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier">ConfigurableSolver</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-110"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier">Solver</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#solverResetAssertions"><span class="hs-identifier">solverResetAssertions</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-111"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier">SolvingFailure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Unsat"><span class="hs-identifier">Unsat</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-112"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier">UnionWithExcept</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#extractUnionExcept"><span class="hs-identifier">extractUnionExcept</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-113"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#solverSolve"><span class="hs-identifier">solverSolve</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-114"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier">withSolver</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.SymEq.html"><span class="hs-identifier">Grisette.Internal.Core.Data.Class.SymEq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier">SymEq</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Grisette.Internal.SymPrim.Prim.Model.html"><span class="hs-identifier">Grisette.Internal.SymPrim.Prim.Model</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.SymPrim.Prim.Model.html#Model"><span class="hs-identifier">Model</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Grisette.Internal.SymPrim.SymBool.html"><span class="hs-identifier">Grisette.Internal.SymPrim.SymBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.SymPrim.SymBool.html#SymBool"><span class="hs-identifier">SymBool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Syntax</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Lift</span></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-122"></span><span class="hs-comment">-- &gt;&gt;&gt; import Grisette.Core</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- &gt;&gt;&gt; import Grisette.Lib.Base</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- &gt;&gt;&gt; import Grisette.SymPrim</span><span>
</span><span id="line-125"></span><span class="hs-comment">-- &gt;&gt;&gt; import Grisette.Backend</span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="annot"><span class="hs-comment">-- | The response from a verifier.</span></span><span>
</span><span id="line-128"></span><span class="hs-keyword">data</span><span> </span><span id="VerifierResult"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#VerifierResult"><span class="hs-identifier hs-var">VerifierResult</span></a></span></span><span> </span><span id="local-6989586621682336514"><span class="annot"><a href="#local-6989586621682336514"><span class="hs-identifier hs-type">cex</span></a></span></span><span> </span><span id="local-6989586621682336515"><span class="annot"><a href="#local-6989586621682336515"><span class="hs-identifier hs-type">exception</span></a></span></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="CEGISVerifierFoundCex"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierFoundCex"><span class="hs-identifier hs-var">CEGISVerifierFoundCex</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621682336514"><span class="hs-identifier hs-type">cex</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | True indicates that the verifier is sure that there is no</span><span>
</span><span id="line-131"></span><span>    </span><span class="hs-comment">-- counter-example, while False indicates that the verifier is not sure,</span><span>
</span><span id="line-132"></span><span>    </span><span class="hs-comment">-- but it cannot find a counter-example.</span><span>
</span><span id="line-133"></span><span>    </span><span id="CEGISVerifierNoCex"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierNoCex"><span class="hs-identifier hs-var">CEGISVerifierNoCex</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CEGISVerifierException"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierException"><span class="hs-identifier hs-var">CEGISVerifierException</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621682336515"><span class="hs-identifier hs-type">exception</span></a></span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682336834"><span id="local-6989586621682336844"><span id="local-6989586621682336848"><span class="annot"><span class="annottext">Int -&gt; VerifierResult cex exception -&gt; ShowS
[VerifierResult cex exception] -&gt; ShowS
VerifierResult cex exception -&gt; String
(Int -&gt; VerifierResult cex exception -&gt; ShowS)
-&gt; (VerifierResult cex exception -&gt; String)
-&gt; ([VerifierResult cex exception] -&gt; ShowS)
-&gt; Show (VerifierResult cex exception)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall cex exception.
(Show cex, Show exception) =&gt;
Int -&gt; VerifierResult cex exception -&gt; ShowS
forall cex exception.
(Show cex, Show exception) =&gt;
[VerifierResult cex exception] -&gt; ShowS
forall cex exception.
(Show cex, Show exception) =&gt;
VerifierResult cex exception -&gt; String
$cshowsPrec :: forall cex exception.
(Show cex, Show exception) =&gt;
Int -&gt; VerifierResult cex exception -&gt; ShowS
showsPrec :: Int -&gt; VerifierResult cex exception -&gt; ShowS
$cshow :: forall cex exception.
(Show cex, Show exception) =&gt;
VerifierResult cex exception -&gt; String
show :: VerifierResult cex exception -&gt; String
$cshowList :: forall cex exception.
(Show cex, Show exception) =&gt;
[VerifierResult cex exception] -&gt; ShowS
showList :: [VerifierResult cex exception] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682336855"><span id="local-6989586621682336864"><span class="annot"><span class="annottext">VerifierResult cex exception
-&gt; VerifierResult cex exception -&gt; Bool
(VerifierResult cex exception
 -&gt; VerifierResult cex exception -&gt; Bool)
-&gt; (VerifierResult cex exception
    -&gt; VerifierResult cex exception -&gt; Bool)
-&gt; Eq (VerifierResult cex exception)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall cex exception.
(Eq cex, Eq exception) =&gt;
VerifierResult cex exception
-&gt; VerifierResult cex exception -&gt; Bool
$c== :: forall cex exception.
(Eq cex, Eq exception) =&gt;
VerifierResult cex exception
-&gt; VerifierResult cex exception -&gt; Bool
== :: VerifierResult cex exception
-&gt; VerifierResult cex exception -&gt; Bool
$c/= :: forall cex exception.
(Eq cex, Eq exception) =&gt;
VerifierResult cex exception
-&gt; VerifierResult cex exception -&gt; Bool
/= :: VerifierResult cex exception
-&gt; VerifierResult cex exception -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682336869"><span id="local-6989586621682336871"><span class="annot"><span class="annottext">(forall x.
 VerifierResult cex exception
 -&gt; Rep (VerifierResult cex exception) x)
-&gt; (forall x.
    Rep (VerifierResult cex exception) x
    -&gt; VerifierResult cex exception)
-&gt; Generic (VerifierResult cex exception)
forall x.
Rep (VerifierResult cex exception) x
-&gt; VerifierResult cex exception
forall x.
VerifierResult cex exception
-&gt; Rep (VerifierResult cex exception) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall cex exception x.
Rep (VerifierResult cex exception) x
-&gt; VerifierResult cex exception
forall cex exception x.
VerifierResult cex exception
-&gt; Rep (VerifierResult cex exception) x
$cfrom :: forall cex exception x.
VerifierResult cex exception
-&gt; Rep (VerifierResult cex exception) x
from :: forall x.
VerifierResult cex exception
-&gt; Rep (VerifierResult cex exception) x
$cto :: forall cex exception x.
Rep (VerifierResult cex exception) x
-&gt; VerifierResult cex exception
to :: forall x.
Rep (VerifierResult cex exception) x
-&gt; VerifierResult cex exception
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682336879"><span id="local-6989586621682336892"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *).
 Quote m =&gt;
 VerifierResult cex exception -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    VerifierResult cex exception
    -&gt; Code m (VerifierResult cex exception))
-&gt; Lift (VerifierResult cex exception)
forall cex exception (m :: * -&gt; *).
(Lift cex, Lift exception, Quote m) =&gt;
VerifierResult cex exception -&gt; m Exp
forall cex exception (m :: * -&gt; *).
(Lift cex, Lift exception, Quote m) =&gt;
VerifierResult cex exception
-&gt; Code m (VerifierResult cex exception)
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *).
Quote m =&gt;
VerifierResult cex exception -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
VerifierResult cex exception
-&gt; Code m (VerifierResult cex exception)
$clift :: forall cex exception (m :: * -&gt; *).
(Lift cex, Lift exception, Quote m) =&gt;
VerifierResult cex exception -&gt; m Exp
lift :: forall (m :: * -&gt; *).
Quote m =&gt;
VerifierResult cex exception -&gt; m Exp
$cliftTyped :: forall cex exception (m :: * -&gt; *).
(Lift cex, Lift exception, Quote m) =&gt;
VerifierResult cex exception
-&gt; Code m (VerifierResult cex exception)
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
VerifierResult cex exception
-&gt; Code m (VerifierResult cex exception)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682336912"><span id="local-6989586621682336919"><span class="annot"><span class="annottext">Eq (VerifierResult cex exception)
Eq (VerifierResult cex exception) =&gt;
(Int -&gt; VerifierResult cex exception -&gt; Int)
-&gt; (VerifierResult cex exception -&gt; Int)
-&gt; Hashable (VerifierResult cex exception)
Int -&gt; VerifierResult cex exception -&gt; Int
VerifierResult cex exception -&gt; Int
forall a. Eq a =&gt; (Int -&gt; a -&gt; Int) -&gt; (a -&gt; Int) -&gt; Hashable a
forall cex exception.
(Hashable cex, Hashable exception) =&gt;
Eq (VerifierResult cex exception)
forall cex exception.
(Hashable cex, Hashable exception) =&gt;
Int -&gt; VerifierResult cex exception -&gt; Int
forall cex exception.
(Hashable cex, Hashable exception) =&gt;
VerifierResult cex exception -&gt; Int
$chashWithSalt :: forall cex exception.
(Hashable cex, Hashable exception) =&gt;
Int -&gt; VerifierResult cex exception -&gt; Int
hashWithSalt :: Int -&gt; VerifierResult cex exception -&gt; Int
$chash :: forall cex exception.
(Hashable cex, Hashable exception) =&gt;
VerifierResult cex exception -&gt; Int
hash :: VerifierResult cex exception -&gt; Int
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Hashable</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682336944"><span class="annot"><span class="annottext">VerifierResult cex exception -&gt; ()
(VerifierResult cex exception -&gt; ())
-&gt; NFData (VerifierResult cex exception)
forall a. (a -&gt; ()) -&gt; NFData a
forall cex exception.
(NFData cex, NFData exception) =&gt;
VerifierResult cex exception -&gt; ()
$crnf :: forall cex exception.
(NFData cex, NFData exception) =&gt;
VerifierResult cex exception -&gt; ()
rnf :: VerifierResult cex exception -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></span></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-139"></span><span>  </span><span id="local-6989586621682336330"><span id="local-6989586621682336331"><span id="local-6989586621682336971"><span id="local-6989586621682336975"><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.PPrint.html#PPrint"><span class="hs-identifier hs-type">PPrint</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336330"><span class="hs-identifier hs-type">cex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.PPrint.html#PPrint"><span class="hs-identifier hs-type">PPrint</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336331"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-140"></span><span>  </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.PPrint.html#PPrint"><span class="hs-identifier hs-type">PPrint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#VerifierResult"><span class="hs-identifier hs-type">VerifierResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336330"><span class="hs-identifier hs-type">cex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336331"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-142"></span><span>  </span><span id="local-6989586621682336985"><span class="annot"><span class="annottext">pformat :: forall ann. VerifierResult cex exception -&gt; Doc ann
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.PPrint.html#pformat"><span class="hs-identifier hs-var hs-var hs-var">pformat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-143"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierFoundCex"><span class="hs-identifier hs-type">CEGISVerifierFoundCex</span></a></span><span> </span><span id="local-6989586621682336986"><span class="annot"><span class="annottext">cex
</span><a href="#local-6989586621682336986"><span class="hs-identifier hs-var">cex</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Found cex:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">cex -&gt; Doc ann
forall ann. cex -&gt; Doc ann
forall a ann. PPrint a =&gt; a -&gt; Doc ann
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.PPrint.html#pformat"><span class="hs-identifier hs-var">pformat</span></a></span><span> </span><span class="annot"><span class="annottext">cex
</span><a href="#local-6989586621682336986"><span class="hs-identifier hs-var">cex</span></a></span><span>
</span><span id="line-144"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierNoCex"><span class="hs-identifier hs-type">CEGISVerifierNoCex</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;No cex&quot;</span></span><span>
</span><span id="line-145"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierNoCex"><span class="hs-identifier hs-type">CEGISVerifierNoCex</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Maybe no cex&quot;</span></span><span>
</span><span id="line-146"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierException"><span class="hs-identifier hs-type">CEGISVerifierException</span></a></span><span> </span><span id="local-6989586621682336987"><span class="annot"><span class="annottext">exception
</span><a href="#local-6989586621682336987"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Exception:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">exception -&gt; Doc ann
forall ann. exception -&gt; Doc ann
forall a ann. PPrint a =&gt; a -&gt; Doc ann
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.PPrint.html#pformat"><span class="hs-identifier hs-var">pformat</span></a></span><span> </span><span class="annot"><span class="annottext">exception
</span><a href="#local-6989586621682336987"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-comment">-- | Build the synthesizer constraint from the verfication result. The first</span><span>
</span><span id="line-149"></span><span class="hs-comment">-- argument will be guaranteed to be distinct during each invocation of the</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- function in the CEGIS algorithm, so it can be used to instantiate the</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- identifiers for fresh variables.</span><span>
</span><span id="line-152"></span><span class="hs-keyword">type</span><span> </span><span id="SynthesisConstraintFun"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#SynthesisConstraintFun"><span class="hs-identifier hs-var">SynthesisConstraintFun</span></a></span></span><span> </span><span id="local-6989586621682336988"><span class="annot"><a href="#local-6989586621682336988"><span class="hs-identifier hs-type">cex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682336988"><span class="hs-identifier hs-type">cex</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Grisette.Internal.SymPrim.SymBool.html#SymBool"><span class="hs-identifier hs-type">SymBool</span></a></span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="annot"><span class="hs-comment">-- | The verifier.</span></span><span>
</span><span id="line-155"></span><span class="hs-keyword">type</span><span> </span><span id="VerifierFun"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#VerifierFun"><span class="hs-identifier hs-var">VerifierFun</span></a></span></span><span> </span><span id="local-6989586621682336989"><span class="annot"><a href="#local-6989586621682336989"><span class="hs-identifier hs-type">cex</span></a></span></span><span> </span><span id="local-6989586621682336990"><span class="annot"><a href="#local-6989586621682336990"><span class="hs-identifier hs-type">exception</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Grisette.Internal.SymPrim.Prim.Model.html#Model"><span class="hs-identifier hs-type">Model</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#VerifierResult"><span class="hs-identifier hs-type">VerifierResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336989"><span class="hs-identifier hs-type">cex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336990"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-keyword">type</span><span> </span><span id="RefinementConditionFun"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#RefinementConditionFun"><span class="hs-identifier hs-var">RefinementConditionFun</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Grisette.Internal.SymPrim.Prim.Model.html#Model"><span class="hs-identifier hs-type">Model</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Grisette.Internal.SymPrim.SymBool.html#SymBool"><span class="hs-identifier hs-type">SymBool</span></a></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="annot"><span class="hs-comment">-- | The result of the CEGIS procedure.</span></span><span>
</span><span id="line-160"></span><span class="hs-keyword">data</span><span> </span><span id="CEGISResult"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-var">CEGISResult</span></a></span></span><span> </span><span id="local-6989586621682336398"><span class="annot"><a href="#local-6989586621682336398"><span class="hs-identifier hs-type">exception</span></a></span></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="CEGISSuccess"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISSuccess"><span class="hs-identifier hs-var">CEGISSuccess</span></a></span></span><span> </span><span class="annot"><a href="Grisette.Internal.SymPrim.Prim.Model.html#Model"><span class="hs-identifier hs-type">Model</span></a></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CEGISVerifierFailure"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierFailure"><span class="hs-identifier hs-var">CEGISVerifierFailure</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621682336398"><span class="hs-identifier hs-type">exception</span></a></span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CEGISSolverFailure"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISSolverFailure"><span class="hs-identifier hs-var">CEGISSolverFailure</span></a></span></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682336996"><span id="local-6989586621682337006"><span id="local-6989586621682337010"><span class="annot"><span class="annottext">Int -&gt; CEGISResult exception -&gt; ShowS
[CEGISResult exception] -&gt; ShowS
CEGISResult exception -&gt; String
(Int -&gt; CEGISResult exception -&gt; ShowS)
-&gt; (CEGISResult exception -&gt; String)
-&gt; ([CEGISResult exception] -&gt; ShowS)
-&gt; Show (CEGISResult exception)
forall exception.
Show exception =&gt;
Int -&gt; CEGISResult exception -&gt; ShowS
forall exception.
Show exception =&gt;
[CEGISResult exception] -&gt; ShowS
forall exception. Show exception =&gt; CEGISResult exception -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall exception.
Show exception =&gt;
Int -&gt; CEGISResult exception -&gt; ShowS
showsPrec :: Int -&gt; CEGISResult exception -&gt; ShowS
$cshow :: forall exception. Show exception =&gt; CEGISResult exception -&gt; String
show :: CEGISResult exception -&gt; String
$cshowList :: forall exception.
Show exception =&gt;
[CEGISResult exception] -&gt; ShowS
showList :: [CEGISResult exception] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682337014"><span id="local-6989586621682337023"><span class="annot"><span class="annottext">CEGISResult exception -&gt; CEGISResult exception -&gt; Bool
(CEGISResult exception -&gt; CEGISResult exception -&gt; Bool)
-&gt; (CEGISResult exception -&gt; CEGISResult exception -&gt; Bool)
-&gt; Eq (CEGISResult exception)
forall exception.
Eq exception =&gt;
CEGISResult exception -&gt; CEGISResult exception -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall exception.
Eq exception =&gt;
CEGISResult exception -&gt; CEGISResult exception -&gt; Bool
== :: CEGISResult exception -&gt; CEGISResult exception -&gt; Bool
$c/= :: forall exception.
Eq exception =&gt;
CEGISResult exception -&gt; CEGISResult exception -&gt; Bool
/= :: CEGISResult exception -&gt; CEGISResult exception -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682337027"><span id="local-6989586621682337029"><span class="annot"><span class="annottext">(forall x. CEGISResult exception -&gt; Rep (CEGISResult exception) x)
-&gt; (forall x.
    Rep (CEGISResult exception) x -&gt; CEGISResult exception)
-&gt; Generic (CEGISResult exception)
forall x. Rep (CEGISResult exception) x -&gt; CEGISResult exception
forall x. CEGISResult exception -&gt; Rep (CEGISResult exception) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall exception x.
Rep (CEGISResult exception) x -&gt; CEGISResult exception
forall exception x.
CEGISResult exception -&gt; Rep (CEGISResult exception) x
$cfrom :: forall exception x.
CEGISResult exception -&gt; Rep (CEGISResult exception) x
from :: forall x. CEGISResult exception -&gt; Rep (CEGISResult exception) x
$cto :: forall exception x.
Rep (CEGISResult exception) x -&gt; CEGISResult exception
to :: forall x. Rep (CEGISResult exception) x -&gt; CEGISResult exception
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682337033"><span id="local-6989586621682337047"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; CEGISResult exception -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    CEGISResult exception -&gt; Code m (CEGISResult exception))
-&gt; Lift (CEGISResult exception)
forall exception (m :: * -&gt; *).
(Lift exception, Quote m) =&gt;
CEGISResult exception -&gt; m Exp
forall exception (m :: * -&gt; *).
(Lift exception, Quote m) =&gt;
CEGISResult exception -&gt; Code m (CEGISResult exception)
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; CEGISResult exception -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
CEGISResult exception -&gt; Code m (CEGISResult exception)
$clift :: forall exception (m :: * -&gt; *).
(Lift exception, Quote m) =&gt;
CEGISResult exception -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; CEGISResult exception -&gt; m Exp
$cliftTyped :: forall exception (m :: * -&gt; *).
(Lift exception, Quote m) =&gt;
CEGISResult exception -&gt; Code m (CEGISResult exception)
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
CEGISResult exception -&gt; Code m (CEGISResult exception)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682337061"><span class="annot"><span class="annottext">CEGISResult exception -&gt; ()
(CEGISResult exception -&gt; ()) -&gt; NFData (CEGISResult exception)
forall exception. NFData exception =&gt; CEGISResult exception -&gt; ()
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: forall exception. NFData exception =&gt; CEGISResult exception -&gt; ()
rnf :: CEGISResult exception -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682337087"><span id="local-6989586621682337094"><span class="annot"><span class="annottext">Eq (CEGISResult exception)
Eq (CEGISResult exception) =&gt;
(Int -&gt; CEGISResult exception -&gt; Int)
-&gt; (CEGISResult exception -&gt; Int)
-&gt; Hashable (CEGISResult exception)
Int -&gt; CEGISResult exception -&gt; Int
CEGISResult exception -&gt; Int
forall a. Eq a =&gt; (Int -&gt; a -&gt; Int) -&gt; (a -&gt; Int) -&gt; Hashable a
forall exception. Hashable exception =&gt; Eq (CEGISResult exception)
forall exception.
Hashable exception =&gt;
Int -&gt; CEGISResult exception -&gt; Int
forall exception.
Hashable exception =&gt;
CEGISResult exception -&gt; Int
$chashWithSalt :: forall exception.
Hashable exception =&gt;
Int -&gt; CEGISResult exception -&gt; Int
hashWithSalt :: Int -&gt; CEGISResult exception -&gt; Int
$chash :: forall exception.
Hashable exception =&gt;
CEGISResult exception -&gt; Int
hash :: CEGISResult exception -&gt; Int
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Hashable</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682337113"><span id="local-6989586621682337122"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). MonadPut m =&gt; CEGISResult exception -&gt; m ())
-&gt; (forall (m :: * -&gt; *). MonadGet m =&gt; m (CEGISResult exception))
-&gt; Serial (CEGISResult exception)
forall exception (m :: * -&gt; *).
(Serial exception, MonadGet m) =&gt;
m (CEGISResult exception)
forall exception (m :: * -&gt; *).
(Serial exception, MonadPut m) =&gt;
CEGISResult exception -&gt; m ()
forall a.
(forall (m :: * -&gt; *). MonadPut m =&gt; a -&gt; m ())
-&gt; (forall (m :: * -&gt; *). MonadGet m =&gt; m a) -&gt; Serial a
forall (m :: * -&gt; *). MonadGet m =&gt; m (CEGISResult exception)
forall (m :: * -&gt; *). MonadPut m =&gt; CEGISResult exception -&gt; m ()
$cserialize :: forall exception (m :: * -&gt; *).
(Serial exception, MonadPut m) =&gt;
CEGISResult exception -&gt; m ()
serialize :: forall (m :: * -&gt; *). MonadPut m =&gt; CEGISResult exception -&gt; m ()
$cdeserialize :: forall exception (m :: * -&gt; *).
(Serial exception, MonadGet m) =&gt;
m (CEGISResult exception)
deserialize :: forall (m :: * -&gt; *). MonadGet m =&gt; m (CEGISResult exception)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Serial</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682336376"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Serial</span></span><span> </span><span class="annot"><a href="#local-6989586621682336376"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Cereal.Serialize</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336376"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-168"></span><span>  </span><span id="local-6989586621682337169"><span class="annot"><span class="annottext">put :: Putter (CEGISResult exception)
</span><a href="#local-6989586621682337169"><span class="hs-identifier hs-var hs-var hs-var">put</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Putter (CEGISResult exception)
forall a (m :: * -&gt; *). (Serial a, MonadPut m) =&gt; a -&gt; m ()
forall (m :: * -&gt; *). MonadPut m =&gt; CEGISResult exception -&gt; m ()
</span><span class="hs-identifier hs-var">serialize</span></span><span>
</span><span id="line-169"></span><span>  </span><span id="local-6989586621682337174"><span class="annot"><span class="annottext">get :: Get (CEGISResult exception)
</span><a href="#local-6989586621682337174"><span class="hs-identifier hs-var hs-var hs-var">get</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get (CEGISResult exception)
forall a (m :: * -&gt; *). (Serial a, MonadGet m) =&gt; m a
forall (m :: * -&gt; *). MonadGet m =&gt; m (CEGISResult exception)
</span><span class="hs-identifier hs-var">deserialize</span></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682336383"><span id="local-6989586621682337180"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Serial</span></span><span> </span><span class="annot"><a href="#local-6989586621682336383"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Binary.Binary</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336383"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-172"></span><span>  </span><span id="local-6989586621682337187"><span class="annot"><span class="annottext">put :: CEGISResult exception -&gt; Put
</span><a href="#local-6989586621682337187"><span class="hs-identifier hs-var hs-var hs-var">put</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CEGISResult exception -&gt; Put
forall a (m :: * -&gt; *). (Serial a, MonadPut m) =&gt; a -&gt; m ()
forall (m :: * -&gt; *). MonadPut m =&gt; CEGISResult exception -&gt; m ()
</span><span class="hs-identifier hs-var">serialize</span></span><span>
</span><span id="line-173"></span><span>  </span><span id="local-6989586621682337192"><span class="annot"><span class="annottext">get :: Get (CEGISResult exception)
</span><a href="#local-6989586621682337192"><span class="hs-identifier hs-var hs-var hs-var">get</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get (CEGISResult exception)
forall a (m :: * -&gt; *). (Serial a, MonadGet m) =&gt; m a
forall (m :: * -&gt; *). MonadGet m =&gt; m (CEGISResult exception)
</span><span class="hs-identifier hs-var">deserialize</span></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">-- | Generic CEGIS procedure. See 'genericCEGIS' for more details.</span><span>
</span><span id="line-176"></span><span class="hs-comment">--</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- The difference from 'genericCEGIS' is that this function accepts a solver</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- handle for the synthesizer, instead of a solver configuration.</span><span>
</span><span id="line-179"></span><span id="local-6989586621682336385"><span id="local-6989586621682336387"><span id="local-6989586621682336389"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverGenericCEGIS"><span class="hs-identifier hs-type">solverGenericCEGIS</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier hs-type">Solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336385"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Configuration of the solver.</span></span><span>
</span><span id="line-182"></span><span>  </span><span class="annot"><a href="#local-6989586621682336385"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-comment">-- | Whether we should rerun the passed verifiers if any other verifier found</span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-comment">-- a counter-example.</span><span>
</span><span id="line-185"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-186"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The initial synthesis constraint.</span></span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><a href="Grisette.Internal.SymPrim.SymBool.html#SymBool"><span class="hs-identifier hs-type">SymBool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-188"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Synthesis constraint from counter-examples</span></span><span>
</span><span id="line-189"></span><span>  </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#SynthesisConstraintFun"><span class="hs-identifier hs-type">SynthesisConstraintFun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336387"><span class="hs-identifier hs-type">input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-190"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The verifier functions.</span></span><span>
</span><span id="line-191"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#VerifierFun"><span class="hs-identifier hs-type">VerifierFun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336387"><span class="hs-identifier hs-type">input</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336389"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-192"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336387"><span class="hs-identifier hs-type">input</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336389"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-193"></span><span id="solverGenericCEGIS"><span class="annot"><span class="annottext">solverGenericCEGIS :: forall handle input exception.
Solver handle =&gt;
handle
-&gt; Bool
-&gt; SymBool
-&gt; SynthesisConstraintFun input
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverGenericCEGIS"><span class="hs-identifier hs-var hs-var">solverGenericCEGIS</span></a></span></span><span> </span><span id="local-6989586621682337199"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337199"><span class="hs-identifier hs-var">solver</span></a></span></span><span> </span><span id="local-6989586621682337200"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682337200"><span class="hs-identifier hs-var">rerun</span></a></span></span><span> </span><span id="local-6989586621682337201"><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337201"><span class="hs-identifier hs-var">initConstr</span></a></span></span><span> </span><span id="local-6989586621682337202"><span class="annot"><span class="annottext">SynthesisConstraintFun input
</span><a href="#local-6989586621682337202"><span class="hs-identifier hs-var">synthConstr</span></a></span></span><span> </span><span id="local-6989586621682337203"><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337203"><span class="hs-identifier hs-var">verifiers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-194"></span><span>  </span><span id="local-6989586621682337204"><span class="annot"><a href="#local-6989586621682337204"><span class="hs-identifier hs-var">firstResult</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">handle -&gt; SymBool -&gt; IO (Either SolvingFailure Model)
forall handle.
Solver handle =&gt;
handle -&gt; SymBool -&gt; IO (Either SolvingFailure Model)
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#solverSolve"><span class="hs-identifier hs-var">solverSolve</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337199"><span class="hs-identifier hs-var">solver</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337201"><span class="hs-identifier hs-var">initConstr</span></a></span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682337204"><span class="hs-identifier hs-type">firstResult</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-196"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621682337205"><span class="annot"><span class="annottext">SolvingFailure
</span><a href="#local-6989586621682337205"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([input], CEGISResult exception)
-&gt; IO ([input], CEGISResult exception)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SolvingFailure -&gt; CEGISResult exception
forall exception. SolvingFailure -&gt; CEGISResult exception
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISSolverFailure"><span class="hs-identifier hs-var">CEGISSolverFailure</span></a></span><span> </span><span class="annot"><span class="annottext">SolvingFailure
</span><a href="#local-6989586621682337205"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621682337206"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337206"><span class="hs-identifier hs-var">model</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Model
-&gt; Bool
-&gt; Int
-&gt; Int
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
</span><a href="#local-6989586621682337207"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337206"><span class="hs-identifier hs-var">model</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682337208"><span class="hs-identifier hs-var">numAllVerifiers</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337203"><span class="hs-identifier hs-var">verifiers</span></a></span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-199"></span><span>    </span><span id="local-6989586621682337208"><span class="annot"><span class="annottext">numAllVerifiers :: Int
</span><a href="#local-6989586621682337208"><span class="hs-identifier hs-var hs-var">numAllVerifiers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[VerifierFun input exception] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337203"><span class="hs-identifier hs-var">verifiers</span></a></span><span>
</span><span id="line-200"></span><span>    </span><span id="local-6989586621682337207"><span class="annot"><span class="annottext">go :: Model
-&gt; Bool
-&gt; Int
-&gt; Int
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
</span><a href="#local-6989586621682337207"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621682337236"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337236"><span class="hs-identifier hs-var">prevModel</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VerifierFun input exception
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([input], CEGISResult exception)
-&gt; IO ([input], CEGISResult exception)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Model -&gt; CEGISResult exception
forall exception. Model -&gt; CEGISResult exception
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISSuccess"><span class="hs-identifier hs-var">CEGISSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337236"><span class="hs-identifier hs-var">prevModel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>    </span><span class="annot"><a href="#local-6989586621682337207"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682337237"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337237"><span class="hs-identifier hs-var">prevModel</span></a></span></span><span> </span><span id="local-6989586621682337238"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682337238"><span class="hs-identifier hs-var">needRerun</span></a></span></span><span> </span><span id="local-6989586621682337239"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682337239"><span class="hs-identifier hs-var">runBound</span></a></span></span><span> </span><span id="local-6989586621682337240"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682337240"><span class="hs-identifier hs-var">nextBound</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682337241"><span class="annot"><span class="annottext">VerifierFun input exception
</span><a href="#local-6989586621682337241"><span class="hs-identifier hs-var">verifier</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621682337242"><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337242"><span class="hs-identifier hs-var">remainingVerifiers</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-202"></span><span>      </span><span id="local-6989586621682337243"><span class="annot"><a href="#local-6989586621682337243"><span class="hs-identifier hs-var">verifierResult</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VerifierFun input exception
</span><a href="#local-6989586621682337241"><span class="hs-identifier hs-var">verifier</span></a></span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337237"><span class="hs-identifier hs-var">prevModel</span></a></span><span>
</span><span id="line-203"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682337243"><span class="hs-identifier hs-type">verifierResult</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-204"></span><span>        </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierFoundCex"><span class="hs-identifier hs-type">CEGISVerifierFoundCex</span></a></span><span> </span><span id="local-6989586621682337244"><span class="annot"><span class="annottext">input
</span><a href="#local-6989586621682337244"><span class="hs-identifier hs-var">cex</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-205"></span><span>          </span><span id="local-6989586621682337245"><span class="annot"><a href="#local-6989586621682337245"><span class="hs-identifier hs-var">newResult</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">handle -&gt; SymBool -&gt; IO (Either SolvingFailure Model)
forall handle.
Solver handle =&gt;
handle -&gt; SymBool -&gt; IO (Either SolvingFailure Model)
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#solverSolve"><span class="hs-identifier hs-var">solverSolve</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337199"><span class="hs-identifier hs-var">solver</span></a></span><span> </span><span class="annot"><span class="annottext">(SymBool -&gt; IO (Either SolvingFailure Model))
-&gt; IO SymBool -&gt; IO (Either SolvingFailure Model)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">SynthesisConstraintFun input
</span><a href="#local-6989586621682337202"><span class="hs-identifier hs-var">synthConstr</span></a></span><span> </span><span class="annot"><span class="annottext">input
</span><a href="#local-6989586621682337244"><span class="hs-identifier hs-var">cex</span></a></span><span>
</span><span id="line-206"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682337245"><span class="hs-identifier hs-type">newResult</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-207"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621682337247"><span class="annot"><span class="annottext">SolvingFailure
</span><a href="#local-6989586621682337247"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([input], CEGISResult exception)
-&gt; IO ([input], CEGISResult exception)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">input
</span><a href="#local-6989586621682337244"><span class="hs-identifier hs-var">cex</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SolvingFailure -&gt; CEGISResult exception
forall exception. SolvingFailure -&gt; CEGISResult exception
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISSolverFailure"><span class="hs-identifier hs-var">CEGISSolverFailure</span></a></span><span> </span><span class="annot"><span class="annottext">SolvingFailure
</span><a href="#local-6989586621682337247"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621682337248"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337248"><span class="hs-identifier hs-var">model</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-209"></span><span>              </span><span class="hs-special">(</span><span id="local-6989586621682337249"><span class="annot"><a href="#local-6989586621682337249"><span class="hs-identifier hs-var">cexes</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682337250"><span class="annot"><a href="#local-6989586621682337250"><span class="hs-identifier hs-var">result</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-210"></span><span>                </span><span class="annot"><span class="annottext">Model
-&gt; Bool
-&gt; Int
-&gt; Int
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
</span><a href="#local-6989586621682337207"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-211"></span><span>                  </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337248"><span class="hs-identifier hs-var">model</span></a></span><span>
</span><span id="line-212"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682337238"><span class="hs-identifier hs-var">needRerun</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682337200"><span class="hs-identifier hs-var">rerun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[VerifierFun input exception] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337242"><span class="hs-identifier hs-var">remainingVerifiers</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682337208"><span class="hs-identifier hs-var">numAllVerifiers</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">[VerifierFun input exception] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337242"><span class="hs-identifier hs-var">remainingVerifiers</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>                  </span><span class="annot"><span class="annottext">([VerifierFun input exception]
 -&gt; IO ([input], CEGISResult exception))
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">VerifierFun input exception
</span><a href="#local-6989586621682337241"><span class="hs-identifier hs-var">verifier</span></a></span><span> </span><span class="annot"><span class="annottext">VerifierFun input exception
-&gt; [VerifierFun input exception] -&gt; [VerifierFun input exception]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337242"><span class="hs-identifier hs-var">remainingVerifiers</span></a></span><span>
</span><span id="line-216"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682337244"><span class="hs-identifier hs-type">cex</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682337249"><span class="hs-identifier hs-type">cexes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682337250"><span class="hs-identifier hs-type">result</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>        </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierNoCex"><span class="hs-identifier hs-type">CEGISVerifierNoCex</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-218"></span><span>          </span><span class="annot"><span class="annottext">Model
-&gt; Bool
-&gt; Int
-&gt; Int
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
</span><a href="#local-6989586621682337207"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337237"><span class="hs-identifier hs-var">prevModel</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682337238"><span class="hs-identifier hs-var">needRerun</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682337239"><span class="hs-identifier hs-var">runBound</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682337240"><span class="hs-identifier hs-var">nextBound</span></a></span><span> </span><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337242"><span class="hs-identifier hs-var">remainingVerifiers</span></a></span><span>
</span><span id="line-219"></span><span>        </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierException"><span class="hs-identifier hs-type">CEGISVerifierException</span></a></span><span> </span><span id="local-6989586621682337253"><span class="annot"><span class="annottext">exception
</span><a href="#local-6989586621682337253"><span class="hs-identifier hs-var">exception</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-220"></span><span>          </span><span class="annot"><span class="annottext">([input], CEGISResult exception)
-&gt; IO ([input], CEGISResult exception)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">exception -&gt; CEGISResult exception
forall exception. exception -&gt; CEGISResult exception
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierFailure"><span class="hs-identifier hs-var">CEGISVerifierFailure</span></a></span><span> </span><span class="annot"><span class="annottext">exception
</span><a href="#local-6989586621682337253"><span class="hs-identifier hs-var">exception</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>    </span><span class="annot"><a href="#local-6989586621682337207"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682337254"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337254"><span class="hs-identifier hs-var">prevModel</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([input], CEGISResult exception)
-&gt; IO ([input], CEGISResult exception)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Model -&gt; CEGISResult exception
forall exception. Model -&gt; CEGISResult exception
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISSuccess"><span class="hs-identifier hs-var">CEGISSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337254"><span class="hs-identifier hs-var">prevModel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>    </span><span class="annot"><a href="#local-6989586621682337207"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682337255"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337255"><span class="hs-identifier hs-var">prevModel</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span id="local-6989586621682337256"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682337256"><span class="hs-identifier hs-var">_runBound</span></a></span></span><span> </span><span id="local-6989586621682337257"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682337257"><span class="hs-identifier hs-var">nextBound</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-223"></span><span>      </span><span class="annot"><span class="annottext">Model
-&gt; Bool
-&gt; Int
-&gt; Int
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
</span><a href="#local-6989586621682337207"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337255"><span class="hs-identifier hs-var">prevModel</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682337257"><span class="hs-identifier hs-var">nextBound</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337203"><span class="hs-identifier hs-var">verifiers</span></a></span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="hs-comment">-- | Generic CEGIS procedure with refinement. See 'genericCEGISWithRefinement'</span><span>
</span><span id="line-226"></span><span class="hs-comment">-- for more details.</span><span>
</span><span id="line-227"></span><span class="hs-comment">--</span><span>
</span><span id="line-228"></span><span class="hs-comment">-- The difference from 'genericCEGISWithRefinement' is that this function</span><span>
</span><span id="line-229"></span><span class="hs-comment">-- accepts a solver handle for the synthesizer, instead of a solver</span><span>
</span><span id="line-230"></span><span class="hs-comment">-- configuration.</span><span>
</span><span id="line-231"></span><span id="local-6989586621682336409"><span id="local-6989586621682336410"><span id="local-6989586621682336412"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverGenericCEGISWithRefinement"><span class="hs-identifier hs-type">solverGenericCEGISWithRefinement</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier hs-type">Solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336409"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-233"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Configuration of the solver.</span></span><span>
</span><span id="line-234"></span><span>  </span><span class="annot"><a href="#local-6989586621682336409"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-comment">-- | Whether we should rerun the passed verifiers if any other verifier found</span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-comment">-- a counter-example.</span><span>
</span><span id="line-237"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-238"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The initial synthesis constraint.</span></span><span>
</span><span id="line-239"></span><span>  </span><span class="annot"><a href="Grisette.Internal.SymPrim.SymBool.html#SymBool"><span class="hs-identifier hs-type">SymBool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-240"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Synthesis constraint from counter-examples</span></span><span>
</span><span id="line-241"></span><span>  </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#SynthesisConstraintFun"><span class="hs-identifier hs-type">SynthesisConstraintFun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336410"><span class="hs-identifier hs-type">input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-242"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Refinement condition generator.</span></span><span>
</span><span id="line-243"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#RefinementConditionFun"><span class="hs-identifier hs-type">RefinementConditionFun</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-244"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The verifier functions.</span></span><span>
</span><span id="line-245"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#VerifierFun"><span class="hs-identifier hs-type">VerifierFun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336410"><span class="hs-identifier hs-type">input</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336412"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-246"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336410"><span class="hs-identifier hs-type">input</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336412"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-247"></span><span id="solverGenericCEGISWithRefinement"><span class="annot"><span class="annottext">solverGenericCEGISWithRefinement :: forall handle input exception.
Solver handle =&gt;
handle
-&gt; Bool
-&gt; SymBool
-&gt; SynthesisConstraintFun input
-&gt; Maybe RefinementConditionFun
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverGenericCEGISWithRefinement"><span class="hs-identifier hs-var hs-var">solverGenericCEGISWithRefinement</span></a></span></span><span>
</span><span id="line-248"></span><span>  </span><span id="local-6989586621682337263"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337263"><span class="hs-identifier hs-var">solver</span></a></span></span><span>
</span><span id="line-249"></span><span>  </span><span id="local-6989586621682337264"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682337264"><span class="hs-identifier hs-var">rerun</span></a></span></span><span>
</span><span id="line-250"></span><span>  </span><span id="local-6989586621682337265"><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337265"><span class="hs-identifier hs-var">initConstr</span></a></span></span><span>
</span><span id="line-251"></span><span>  </span><span id="local-6989586621682337266"><span class="annot"><span class="annottext">SynthesisConstraintFun input
</span><a href="#local-6989586621682337266"><span class="hs-identifier hs-var">synthConstr</span></a></span></span><span>
</span><span id="line-252"></span><span>  </span><span id="local-6989586621682337267"><span class="annot"><span class="annottext">Maybe RefinementConditionFun
</span><a href="#local-6989586621682337267"><span class="hs-identifier hs-var">refineCond</span></a></span></span><span>
</span><span id="line-253"></span><span>  </span><span id="local-6989586621682337268"><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337268"><span class="hs-identifier hs-var">verifiers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621682337269"><span class="annot"><a href="#local-6989586621682337269"><span class="hs-identifier hs-var">input</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682337270"><span class="annot"><a href="#local-6989586621682337270"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-255"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; Bool
-&gt; SymBool
-&gt; SynthesisConstraintFun input
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
forall handle input exception.
Solver handle =&gt;
handle
-&gt; Bool
-&gt; SymBool
-&gt; SynthesisConstraintFun input
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverGenericCEGIS"><span class="hs-identifier hs-var">solverGenericCEGIS</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337263"><span class="hs-identifier hs-var">solver</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682337264"><span class="hs-identifier hs-var">rerun</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337265"><span class="hs-identifier hs-var">initConstr</span></a></span><span> </span><span class="annot"><span class="annottext">SynthesisConstraintFun input
</span><a href="#local-6989586621682337266"><span class="hs-identifier hs-var">synthConstr</span></a></span><span> </span><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337268"><span class="hs-identifier hs-var">verifiers</span></a></span><span>
</span><span id="line-256"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682337270"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-257"></span><span>      </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISSuccess"><span class="hs-identifier hs-type">CEGISSuccess</span></a></span><span> </span><span id="local-6989586621682337271"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337271"><span class="hs-identifier hs-var">model</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">handle -&gt; [input] -&gt; Model -&gt; IO ([input], CEGISResult exception)
forall {t} {exception}.
Solver t =&gt;
t -&gt; [input] -&gt; Model -&gt; IO ([input], CEGISResult exception)
</span><a href="#local-6989586621682337272"><span class="hs-identifier hs-var">refine</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337263"><span class="hs-identifier hs-var">solver</span></a></span><span> </span><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337269"><span class="hs-identifier hs-var">input</span></a></span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337271"><span class="hs-identifier hs-var">model</span></a></span><span>
</span><span id="line-258"></span><span>      </span><span class="annot"><span class="annottext">CEGISResult exception
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([input], CEGISResult exception)
-&gt; IO ([input], CEGISResult exception)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337269"><span class="hs-identifier hs-var">input</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CEGISResult exception
</span><a href="#local-6989586621682337270"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-260"></span><span>      </span><span id="local-6989586621682337272"><span class="annot"><span class="annottext">refine :: t -&gt; [input] -&gt; Model -&gt; IO ([input], CEGISResult exception)
</span><a href="#local-6989586621682337272"><span class="hs-identifier hs-var hs-var">refine</span></a></span></span><span> </span><span id="local-6989586621682337279"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682337279"><span class="hs-identifier hs-var">solver</span></a></span></span><span> </span><span id="local-6989586621682337280"><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337280"><span class="hs-identifier hs-var">input</span></a></span></span><span> </span><span id="local-6989586621682337281"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337281"><span class="hs-identifier hs-var">model</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe RefinementConditionFun
</span><a href="#local-6989586621682337267"><span class="hs-identifier hs-var">refineCond</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-261"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682337282"><span class="annot"><span class="annottext">RefinementConditionFun
</span><a href="#local-6989586621682337282"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-262"></span><span>          </span><span id="local-6989586621682337283"><span class="annot"><a href="#local-6989586621682337283"><span class="hs-identifier hs-var">cond</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RefinementConditionFun
</span><a href="#local-6989586621682337282"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337281"><span class="hs-identifier hs-var">model</span></a></span><span>
</span><span id="line-263"></span><span>          </span><span id="local-6989586621682337284"><span class="annot"><a href="#local-6989586621682337284"><span class="hs-identifier hs-var">newResult</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-264"></span><span>            </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverGenericCEGIS"><span class="hs-identifier hs-type">solverGenericCEGIS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682337279"><span class="hs-identifier hs-type">solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682337264"><span class="hs-identifier hs-type">rerun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682337283"><span class="hs-identifier hs-type">cond</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682337266"><span class="hs-identifier hs-type">synthConstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682337268"><span class="hs-identifier hs-type">verifiers</span></a></span><span>
</span><span id="line-265"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682337284"><span class="hs-identifier hs-type">newResult</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-266"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621682337285"><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337285"><span class="hs-identifier hs-var">newInputs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISSuccess"><span class="hs-identifier hs-type">CEGISSuccess</span></a></span><span> </span><span id="local-6989586621682337286"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337286"><span class="hs-identifier hs-var">model</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-267"></span><span>              </span><span class="annot"><span class="annottext">t -&gt; [input] -&gt; Model -&gt; IO ([input], CEGISResult exception)
</span><a href="#local-6989586621682337272"><span class="hs-identifier hs-var">refine</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682337279"><span class="hs-identifier hs-var">solver</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337280"><span class="hs-identifier hs-var">input</span></a></span><span> </span><span class="annot"><span class="annottext">[input] -&gt; [input] -&gt; [input]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337285"><span class="hs-identifier hs-var">newInputs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337286"><span class="hs-identifier hs-var">model</span></a></span><span>
</span><span id="line-268"></span><span>            </span><span class="annot"><span class="annottext">([input], CEGISResult exception)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([input], CEGISResult exception)
-&gt; IO ([input], CEGISResult exception)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337280"><span class="hs-identifier hs-var">input</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Model -&gt; CEGISResult exception
forall exception. Model -&gt; CEGISResult exception
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISSuccess"><span class="hs-identifier hs-var">CEGISSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337281"><span class="hs-identifier hs-var">model</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>        </span><span class="annot"><span class="annottext">Maybe RefinementConditionFun
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([input], CEGISResult exception)
-&gt; IO ([input], CEGISResult exception)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337280"><span class="hs-identifier hs-var">input</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Model -&gt; CEGISResult exception
forall exception. Model -&gt; CEGISResult exception
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISSuccess"><span class="hs-identifier hs-var">CEGISSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337281"><span class="hs-identifier hs-var">model</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="hs-comment">-- | Generic CEGIS procedure.</span><span>
</span><span id="line-272"></span><span class="hs-comment">--</span><span>
</span><span id="line-273"></span><span class="hs-comment">-- The CEGIS procedure will try to find a model that satisfies the initial</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- synthesis constraint, and satisfies all the inputs generated by the verifier.</span><span>
</span><span id="line-275"></span><span id="local-6989586621682336419"><span id="local-6989586621682336420"><span id="local-6989586621682336422"><span id="local-6989586621682336423"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#genericCEGIS"><span class="hs-identifier hs-type">genericCEGIS</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier hs-type">ConfigurableSolver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336419"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336420"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-277"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Configuration of the solver.</span></span><span>
</span><span id="line-278"></span><span>  </span><span class="annot"><a href="#local-6989586621682336419"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-comment">-- | Whether we should rerun the passed verifiers if any other verifier found</span><span>
</span><span id="line-280"></span><span>  </span><span class="hs-comment">-- a counter-example.</span><span>
</span><span id="line-281"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The initial synthesis constraint.</span></span><span>
</span><span id="line-283"></span><span>  </span><span class="annot"><a href="Grisette.Internal.SymPrim.SymBool.html#SymBool"><span class="hs-identifier hs-type">SymBool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-284"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Synthesis constraint from counter-examples</span></span><span>
</span><span id="line-285"></span><span>  </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#SynthesisConstraintFun"><span class="hs-identifier hs-type">SynthesisConstraintFun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336422"><span class="hs-identifier hs-type">input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-286"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The verifier functions.</span></span><span>
</span><span id="line-287"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#VerifierFun"><span class="hs-identifier hs-type">VerifierFun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336422"><span class="hs-identifier hs-type">input</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336423"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-288"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336422"><span class="hs-identifier hs-type">input</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336423"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-289"></span><span id="genericCEGIS"><span class="annot"><span class="annottext">genericCEGIS :: forall config handle input exception.
ConfigurableSolver config handle =&gt;
config
-&gt; Bool
-&gt; SymBool
-&gt; SynthesisConstraintFun input
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#genericCEGIS"><span class="hs-identifier hs-var hs-var">genericCEGIS</span></a></span></span><span> </span><span id="local-6989586621682337292"><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337292"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621682337293"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682337293"><span class="hs-identifier hs-var">rerun</span></a></span></span><span> </span><span id="local-6989586621682337294"><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337294"><span class="hs-identifier hs-var">initConstr</span></a></span></span><span> </span><span id="local-6989586621682337295"><span class="annot"><span class="annottext">SynthesisConstraintFun input
</span><a href="#local-6989586621682337295"><span class="hs-identifier hs-var">synthConstr</span></a></span></span><span> </span><span id="local-6989586621682337296"><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337296"><span class="hs-identifier hs-var">verifier</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-290"></span><span>  </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([input], CEGISResult exception))
-&gt; IO ([input], CEGISResult exception)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337292"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([input], CEGISResult exception))
 -&gt; IO ([input], CEGISResult exception))
-&gt; (handle -&gt; IO ([input], CEGISResult exception))
-&gt; IO ([input], CEGISResult exception)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337297"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337297"><span class="hs-identifier hs-var">solver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-291"></span><span>    </span><span class="annot"><span class="annottext">handle
-&gt; Bool
-&gt; SymBool
-&gt; SynthesisConstraintFun input
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
forall handle input exception.
Solver handle =&gt;
handle
-&gt; Bool
-&gt; SymBool
-&gt; SynthesisConstraintFun input
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverGenericCEGIS"><span class="hs-identifier hs-var">solverGenericCEGIS</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337297"><span class="hs-identifier hs-var">solver</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682337293"><span class="hs-identifier hs-var">rerun</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337294"><span class="hs-identifier hs-var">initConstr</span></a></span><span> </span><span class="annot"><span class="annottext">SynthesisConstraintFun input
</span><a href="#local-6989586621682337295"><span class="hs-identifier hs-var">synthConstr</span></a></span><span> </span><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337296"><span class="hs-identifier hs-var">verifier</span></a></span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span class="hs-comment">-- | Generic CEGIS procedure.</span><span>
</span><span id="line-294"></span><span class="hs-comment">--</span><span>
</span><span id="line-295"></span><span class="hs-comment">-- The CEGIS procedure will try to find a model that satisfies the initial</span><span>
</span><span id="line-296"></span><span class="hs-comment">-- synthesis constraint, and satisfies all the inputs generated by the verifier.</span><span>
</span><span id="line-297"></span><span id="local-6989586621682336433"><span id="local-6989586621682336434"><span id="local-6989586621682336435"><span id="local-6989586621682336436"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#genericCEGISWithRefinement"><span class="hs-identifier hs-type">genericCEGISWithRefinement</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-298"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier hs-type">ConfigurableSolver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336433"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336434"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-299"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Configuration of the solver.</span></span><span>
</span><span id="line-300"></span><span>  </span><span class="annot"><a href="#local-6989586621682336433"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-comment">-- | Whether we should rerun the passed verifiers if any other verifier found</span><span>
</span><span id="line-302"></span><span>  </span><span class="hs-comment">-- a counter-example.</span><span>
</span><span id="line-303"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-304"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The initial synthesis constraint.</span></span><span>
</span><span id="line-305"></span><span>  </span><span class="annot"><a href="Grisette.Internal.SymPrim.SymBool.html#SymBool"><span class="hs-identifier hs-type">SymBool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-306"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Synthesis constraint from counter-examples</span></span><span>
</span><span id="line-307"></span><span>  </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#SynthesisConstraintFun"><span class="hs-identifier hs-type">SynthesisConstraintFun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336435"><span class="hs-identifier hs-type">input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-308"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Refinement condition generator.</span></span><span>
</span><span id="line-309"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#RefinementConditionFun"><span class="hs-identifier hs-type">RefinementConditionFun</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-310"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The verifier functions.</span></span><span>
</span><span id="line-311"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#VerifierFun"><span class="hs-identifier hs-type">VerifierFun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336435"><span class="hs-identifier hs-type">input</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336436"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-312"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336435"><span class="hs-identifier hs-type">input</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336436"><span class="hs-identifier hs-type">exception</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-313"></span><span id="genericCEGISWithRefinement"><span class="annot"><span class="annottext">genericCEGISWithRefinement :: forall config handle input exception.
ConfigurableSolver config handle =&gt;
config
-&gt; Bool
-&gt; SymBool
-&gt; SynthesisConstraintFun input
-&gt; Maybe RefinementConditionFun
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#genericCEGISWithRefinement"><span class="hs-identifier hs-var hs-var">genericCEGISWithRefinement</span></a></span></span><span>
</span><span id="line-314"></span><span>  </span><span id="local-6989586621682337302"><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337302"><span class="hs-identifier hs-var">config</span></a></span></span><span>
</span><span id="line-315"></span><span>  </span><span id="local-6989586621682337303"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682337303"><span class="hs-identifier hs-var">rerun</span></a></span></span><span>
</span><span id="line-316"></span><span>  </span><span id="local-6989586621682337304"><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337304"><span class="hs-identifier hs-var">initConstr</span></a></span></span><span>
</span><span id="line-317"></span><span>  </span><span id="local-6989586621682337305"><span class="annot"><span class="annottext">SynthesisConstraintFun input
</span><a href="#local-6989586621682337305"><span class="hs-identifier hs-var">synthConstr</span></a></span></span><span>
</span><span id="line-318"></span><span>  </span><span id="local-6989586621682337306"><span class="annot"><span class="annottext">Maybe RefinementConditionFun
</span><a href="#local-6989586621682337306"><span class="hs-identifier hs-var">refineCond</span></a></span></span><span>
</span><span id="line-319"></span><span>  </span><span id="local-6989586621682337307"><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337307"><span class="hs-identifier hs-var">verifier</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-320"></span><span>    </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([input], CEGISResult exception))
-&gt; IO ([input], CEGISResult exception)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337302"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([input], CEGISResult exception))
 -&gt; IO ([input], CEGISResult exception))
-&gt; (handle -&gt; IO ([input], CEGISResult exception))
-&gt; IO ([input], CEGISResult exception)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337308"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337308"><span class="hs-identifier hs-var">solver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-321"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; Bool
-&gt; SymBool
-&gt; SynthesisConstraintFun input
-&gt; Maybe RefinementConditionFun
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
forall handle input exception.
Solver handle =&gt;
handle
-&gt; Bool
-&gt; SymBool
-&gt; SynthesisConstraintFun input
-&gt; Maybe RefinementConditionFun
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverGenericCEGISWithRefinement"><span class="hs-identifier hs-var">solverGenericCEGISWithRefinement</span></a></span><span>
</span><span id="line-322"></span><span>        </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337308"><span class="hs-identifier hs-var">solver</span></a></span><span>
</span><span id="line-323"></span><span>        </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682337303"><span class="hs-identifier hs-var">rerun</span></a></span><span>
</span><span id="line-324"></span><span>        </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337304"><span class="hs-identifier hs-var">initConstr</span></a></span><span>
</span><span id="line-325"></span><span>        </span><span class="annot"><span class="annottext">SynthesisConstraintFun input
</span><a href="#local-6989586621682337305"><span class="hs-identifier hs-var">synthConstr</span></a></span><span>
</span><span id="line-326"></span><span>        </span><span class="annot"><span class="annottext">Maybe RefinementConditionFun
</span><a href="#local-6989586621682337306"><span class="hs-identifier hs-var">refineCond</span></a></span><span>
</span><span id="line-327"></span><span>        </span><span class="annot"><span class="annottext">[VerifierFun input exception]
</span><a href="#local-6989586621682337307"><span class="hs-identifier hs-var">verifier</span></a></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="hs-comment">-- | The condition for CEGIS to solve.</span><span>
</span><span id="line-330"></span><span class="hs-comment">--</span><span>
</span><span id="line-331"></span><span class="hs-comment">-- The first argument is the pre-condition, and the second argument is the</span><span>
</span><span id="line-332"></span><span class="hs-comment">-- post-condition.</span><span>
</span><span id="line-333"></span><span class="hs-comment">--</span><span>
</span><span id="line-334"></span><span class="hs-comment">-- The CEGIS procedures would try to find a model for the formula</span><span>
</span><span id="line-335"></span><span class="hs-comment">--</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- \[</span><span>
</span><span id="line-337"></span><span class="hs-comment">--   \forall P. (\exists I. \mathrm{pre}(P, I)) \wedge (\forall I. \mathrm{pre}(P, I)\implies \mathrm{post}(P, I))</span><span>
</span><span id="line-338"></span><span class="hs-comment">-- \]</span><span>
</span><span id="line-339"></span><span class="hs-comment">--</span><span>
</span><span id="line-340"></span><span class="hs-comment">-- In program synthesis tasks, \(P\) is the symbolic constants in the symbolic</span><span>
</span><span id="line-341"></span><span class="hs-comment">-- program, and \(I\) is the input. The pre-condition is used to restrict the</span><span>
</span><span id="line-342"></span><span class="hs-comment">-- search space of the program. The procedure would only return programs that</span><span>
</span><span id="line-343"></span><span class="hs-comment">-- meets the pre-conditions on every possible inputs, and there are at least</span><span>
</span><span id="line-344"></span><span class="hs-comment">-- one possible input. The post-condition is used to specify the desired program</span><span>
</span><span id="line-345"></span><span class="hs-comment">-- behaviors.</span><span>
</span><span id="line-346"></span><span class="hs-keyword">data</span><span> </span><span id="CEGISCondition"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-var">CEGISCondition</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CEGISCondition"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-var">CEGISCondition</span></a></span></span><span> </span><span class="annot"><a href="Grisette.Internal.SymPrim.SymBool.html#SymBool"><span class="hs-identifier hs-type">SymBool</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.SymPrim.SymBool.html#SymBool"><span class="hs-identifier hs-type">SymBool</span></a></span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682337311"><span id="local-6989586621682337313"><span class="annot"><span class="annottext">(forall x. CEGISCondition -&gt; Rep CEGISCondition x)
-&gt; (forall x. Rep CEGISCondition x -&gt; CEGISCondition)
-&gt; Generic CEGISCondition
forall x. Rep CEGISCondition x -&gt; CEGISCondition
forall x. CEGISCondition -&gt; Rep CEGISCondition x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. CEGISCondition -&gt; Rep CEGISCondition x
from :: forall x. CEGISCondition -&gt; Rep CEGISCondition x
$cto :: forall x. Rep CEGISCondition x -&gt; CEGISCondition
to :: forall x. Rep CEGISCondition x -&gt; CEGISCondition
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-348"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682337316"><span class="annot"><span class="annottext">Bool -&gt; Model -&gt; CEGISCondition -&gt; CEGISCondition
(Bool -&gt; Model -&gt; CEGISCondition -&gt; CEGISCondition)
-&gt; EvalSym CEGISCondition
forall a. (Bool -&gt; Model -&gt; a -&gt; a) -&gt; EvalSym a
$cevalSym :: Bool -&gt; Model -&gt; CEGISCondition -&gt; CEGISCondition
evalSym :: Bool -&gt; Model -&gt; CEGISCondition -&gt; CEGISCondition
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-var hs-var hs-var hs-var">EvalSym</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Default</span></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span class="hs-comment">-- | Construct a CEGIS condition with only a post-condition. The pre-condition</span><span>
</span><span id="line-351"></span><span class="hs-comment">-- would be set to true, meaning that all programs in the program space are</span><span>
</span><span id="line-352"></span><span class="hs-comment">-- allowed.</span><span>
</span><span id="line-353"></span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPostCond"><span class="hs-identifier hs-type">cegisPostCond</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Grisette.Internal.SymPrim.SymBool.html#SymBool"><span class="hs-identifier hs-type">SymBool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span>
</span><span id="line-354"></span><span id="cegisPostCond"><span class="annot"><span class="annottext">cegisPostCond :: SymBool -&gt; CEGISCondition
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPostCond"><span class="hs-identifier hs-var hs-var">cegisPostCond</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; SymBool -&gt; CEGISCondition
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-var">CEGISCondition</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SymBool
forall c t. Solvable c t =&gt; c -&gt; t
</span><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="annot"><span class="hs-comment">-- | Construct a CEGIS condition with both pre- and post-conditions.</span></span><span>
</span><span id="line-357"></span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPrePost"><span class="hs-identifier hs-type">cegisPrePost</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Grisette.Internal.SymPrim.SymBool.html#SymBool"><span class="hs-identifier hs-type">SymBool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Grisette.Internal.SymPrim.SymBool.html#SymBool"><span class="hs-identifier hs-type">SymBool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span>
</span><span id="line-358"></span><span id="cegisPrePost"><span class="annot"><span class="annottext">cegisPrePost :: SymBool -&gt; SymBool -&gt; CEGISCondition
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPrePost"><span class="hs-identifier hs-var hs-var">cegisPrePost</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; SymBool -&gt; CEGISCondition
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-var">CEGISCondition</span></a></span><span>
</span><span id="line-359"></span><span>
</span><span id="line-360"></span><span id="local-6989586621682337336"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Default</span></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Mergeable.html#Mergeable"><span class="hs-identifier hs-type">Mergeable</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span></span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span id="local-6989586621682337359"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Default</span></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SimpleMergeable.html#SimpleMergeable"><span class="hs-identifier hs-type">SimpleMergeable</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="hs-comment">-- | CEGIS with multiple (possibly symbolic) inputs. See 'cegisMultiInputs' for</span><span>
</span><span id="line-365"></span><span class="hs-comment">-- more details.</span><span>
</span><span id="line-366"></span><span class="hs-comment">--</span><span>
</span><span id="line-367"></span><span class="hs-comment">-- The difference from 'cegisMultiInputs' is that this function accepts two</span><span>
</span><span id="line-368"></span><span class="hs-comment">-- solver handles, one for the synthesizer and one for the verifier.</span><span>
</span><span id="line-369"></span><span class="hs-comment">--</span><span>
</span><span id="line-370"></span><span class="hs-comment">-- The synthesizer solver will **not** be reset, while the verifier solver will</span><span>
</span><span id="line-371"></span><span class="hs-comment">-- be reset after each iteration.</span><span>
</span><span id="line-372"></span><span id="local-6989586621682336491"><span id="local-6989586621682336493"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisMultiInputs"><span class="hs-identifier hs-type">solverCegisMultiInputs</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-373"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336491"><span class="hs-identifier hs-type">input</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-374"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336491"><span class="hs-identifier hs-type">input</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-375"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier hs-type">Solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336493"><span class="hs-identifier hs-type">handle</span></a></span><span>
</span><span id="line-376"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-377"></span><span>  </span><span class="hs-comment">-- The synthesizer solver handle</span><span>
</span><span id="line-378"></span><span>  </span><span class="annot"><a href="#local-6989586621682336493"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-379"></span><span>  </span><span class="hs-comment">-- The verifier solver handle</span><span>
</span><span id="line-380"></span><span>  </span><span class="annot"><a href="#local-6989586621682336493"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-381"></span><span>  </span><span class="hs-comment">-- | Initial symbolic inputs. The solver will try to find a</span><span>
</span><span id="line-382"></span><span>  </span><span class="hs-comment">-- program that works on all the inputs representable by these inputs (see</span><span>
</span><span id="line-383"></span><span>  </span><span class="hs-comment">-- t'CEGISCondition').</span><span>
</span><span id="line-384"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336491"><span class="hs-identifier hs-type">input</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-385"></span><span>  </span><span class="hs-comment">-- | The condition for the solver to solve. All the</span><span>
</span><span id="line-386"></span><span>  </span><span class="hs-comment">-- symbolic constants that are not in the inputs will</span><span>
</span><span id="line-387"></span><span>  </span><span class="hs-comment">-- be considered as part of the symbolic program.</span><span>
</span><span id="line-388"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336491"><span class="hs-identifier hs-type">input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-389"></span><span>  </span><span class="hs-comment">-- | The counter-examples generated</span><span>
</span><span id="line-390"></span><span>  </span><span class="hs-comment">-- during the CEGIS loop, and the</span><span>
</span><span id="line-391"></span><span>  </span><span class="hs-comment">-- model found by the solver.</span><span>
</span><span id="line-392"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336491"><span class="hs-identifier hs-type">input</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-393"></span><span id="solverCegisMultiInputs"><span class="annot"><span class="annottext">solverCegisMultiInputs :: forall input handle.
(EvalSym input, ExtractSym input, Solver handle) =&gt;
handle
-&gt; handle
-&gt; [input]
-&gt; (input -&gt; CEGISCondition)
-&gt; IO ([input], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisMultiInputs"><span class="hs-identifier hs-var hs-var">solverCegisMultiInputs</span></a></span></span><span>
</span><span id="line-394"></span><span>  </span><span id="local-6989586621682337398"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337398"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span>
</span><span id="line-395"></span><span>  </span><span id="local-6989586621682337399"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337399"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span>
</span><span id="line-396"></span><span>  </span><span id="local-6989586621682337400"><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337400"><span class="hs-identifier hs-var">inputs</span></a></span></span><span>
</span><span id="line-397"></span><span>  </span><span id="local-6989586621682337401"><span class="annot"><span class="annottext">input -&gt; CEGISCondition
</span><a href="#local-6989586621682337401"><span class="hs-identifier hs-var">toCEGISCondition</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-398"></span><span>    </span><span class="annot"><span class="annottext">handle
-&gt; Bool
-&gt; SymBool
-&gt; SynthesisConstraintFun input
-&gt; [VerifierFun input SolvingFailure]
-&gt; IO ([input], CEGISResult SolvingFailure)
forall handle input exception.
Solver handle =&gt;
handle
-&gt; Bool
-&gt; SymBool
-&gt; SynthesisConstraintFun input
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverGenericCEGIS"><span class="hs-identifier hs-var">solverGenericCEGIS</span></a></span><span>
</span><span id="line-399"></span><span>      </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337398"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span>
</span><span id="line-400"></span><span>      </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-401"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SymBool -&gt; input -&gt; SymBool) -&gt; SymBool -&gt; [input] -&gt; SymBool
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682337403"><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337403"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621682337404"><span class="annot"><span class="annottext">input
</span><a href="#local-6989586621682337404"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337403"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; SymBool -&gt; SymBool
forall b. LogicalOp b =&gt; b -&gt; b -&gt; b
</span><a href="Grisette.Internal.Core.Data.Class.LogicalOp.html#.%26%26"><span class="hs-operator hs-var">.&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">input -&gt; SymBool
</span><a href="#local-6989586621682337405"><span class="hs-identifier hs-var">cexAssertFun</span></a></span><span> </span><span class="annot"><span class="annottext">input
</span><a href="#local-6989586621682337404"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SymBool
forall c t. Solvable c t =&gt; c -&gt; t
</span><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337406"><span class="hs-identifier hs-var">conInputs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymBool -&gt; IO SymBool
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SymBool -&gt; IO SymBool)
-&gt; (input -&gt; SymBool) -&gt; SynthesisConstraintFun input
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">input -&gt; SymBool
</span><a href="#local-6989586621682337405"><span class="hs-identifier hs-var">cexAssertFun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-403"></span><span>      </span><span class="annot"><span class="annottext">([VerifierFun input SolvingFailure]
 -&gt; IO ([input], CEGISResult SolvingFailure))
-&gt; [VerifierFun input SolvingFailure]
-&gt; IO ([input], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">input -&gt; VerifierFun input SolvingFailure
</span><a href="#local-6989586621682337408"><span class="hs-identifier hs-var">getVerifier</span></a></span><span> </span><span class="annot"><span class="annottext">(input -&gt; VerifierFun input SolvingFailure)
-&gt; [input] -&gt; [VerifierFun input SolvingFailure]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337410"><span class="hs-identifier hs-var">symInputs</span></a></span><span>
</span><span id="line-404"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-405"></span><span>      </span><span id="local-6989586621682337405"><span class="annot"><span class="annottext">cexAssertFun :: input -&gt; SymBool
</span><a href="#local-6989586621682337405"><span class="hs-identifier hs-var hs-var">cexAssertFun</span></a></span></span><span> </span><span id="local-6989586621682337412"><span class="annot"><span class="annottext">input
</span><a href="#local-6989586621682337412"><span class="hs-identifier hs-var">input</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-406"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">input -&gt; CEGISCondition
</span><a href="#local-6989586621682337401"><span class="hs-identifier hs-var">toCEGISCondition</span></a></span><span> </span><span class="annot"><span class="annottext">input
</span><a href="#local-6989586621682337412"><span class="hs-identifier hs-var">input</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-407"></span><span>          </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span> </span><span id="local-6989586621682337413"><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337413"><span class="hs-identifier hs-var">pre</span></a></span></span><span> </span><span id="local-6989586621682337414"><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337414"><span class="hs-identifier hs-var">post</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337413"><span class="hs-identifier hs-var">pre</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; SymBool -&gt; SymBool
forall b. LogicalOp b =&gt; b -&gt; b -&gt; b
</span><a href="Grisette.Internal.Core.Data.Class.LogicalOp.html#.%26%26"><span class="hs-operator hs-var">.&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337414"><span class="hs-identifier hs-var">post</span></a></span><span>
</span><span id="line-408"></span><span>      </span><span id="local-6989586621682337408"><span class="annot"><span class="annottext">getVerifier :: input -&gt; VerifierFun input SolvingFailure
</span><a href="#local-6989586621682337408"><span class="hs-identifier hs-var hs-var">getVerifier</span></a></span></span><span> </span><span id="local-6989586621682337422"><span class="annot"><span class="annottext">input
</span><a href="#local-6989586621682337422"><span class="hs-identifier hs-var">input</span></a></span></span><span> </span><span id="local-6989586621682337423"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337423"><span class="hs-identifier hs-var">md</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-409"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span> </span><span id="local-6989586621682337424"><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337424"><span class="hs-identifier hs-var hs-var">pre</span></a></span></span><span> </span><span id="local-6989586621682337425"><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337425"><span class="hs-identifier hs-var hs-var">post</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">input -&gt; CEGISCondition
</span><a href="#local-6989586621682337401"><span class="hs-identifier hs-var">toCEGISCondition</span></a></span><span> </span><span class="annot"><span class="annottext">input
</span><a href="#local-6989586621682337422"><span class="hs-identifier hs-var">input</span></a></span><span>
</span><span id="line-410"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682337432"><span class="annot"><span class="annottext">evaluated :: SymBool
</span><a href="#local-6989586621682337432"><span class="hs-identifier hs-var hs-var hs-var">evaluated</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-411"></span><span>              </span><span class="annot"><span class="annottext">Bool -&gt; Model -&gt; SymBool -&gt; SymBool
forall a. EvalSym a =&gt; Bool -&gt; Model -&gt; a -&gt; a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#evalSym"><span class="hs-identifier hs-var">evalSym</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnySymbolSet -&gt; Model -&gt; Model
forall model symbolSet (typedSymbol :: * -&gt; *).
ModelOps model symbolSet typedSymbol =&gt;
symbolSet -&gt; model -&gt; model
</span><a href="Grisette.Internal.Core.Data.Class.ModelOps.html#exceptFor"><span class="hs-identifier hs-var">exceptFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">input -&gt; AnySymbolSet
forall a. ExtractSym a =&gt; a -&gt; AnySymbolSet
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#extractSym"><span class="hs-identifier hs-var">extractSym</span></a></span><span> </span><span class="annot"><span class="annottext">input
</span><a href="#local-6989586621682337422"><span class="hs-identifier hs-var">input</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337423"><span class="hs-identifier hs-var">md</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SymBool -&gt; SymBool) -&gt; SymBool -&gt; SymBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-412"></span><span>                </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337424"><span class="hs-identifier hs-var">pre</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; SymBool -&gt; SymBool
forall b. LogicalOp b =&gt; b -&gt; b -&gt; b
</span><a href="Grisette.Internal.Core.Data.Class.LogicalOp.html#.%26%26"><span class="hs-operator hs-var">.&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; SymBool
forall b. LogicalOp b =&gt; b -&gt; b
</span><a href="Grisette.Internal.Core.Data.Class.LogicalOp.html#symNot"><span class="hs-identifier hs-var">symNot</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337425"><span class="hs-identifier hs-var">post</span></a></span><span>
</span><span id="line-413"></span><span>        </span><span class="annot"><span class="annottext">handle -&gt; IO (Either SolvingFailure ())
forall handle.
Solver handle =&gt;
handle -&gt; IO (Either SolvingFailure ())
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#solverResetAssertions"><span class="hs-identifier hs-var">solverResetAssertions</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337399"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span>
</span><span id="line-414"></span><span>        </span><span id="local-6989586621682337433"><span class="annot"><a href="#local-6989586621682337433"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">handle -&gt; SymBool -&gt; IO (Either SolvingFailure Model)
forall handle.
Solver handle =&gt;
handle -&gt; SymBool -&gt; IO (Either SolvingFailure Model)
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#solverSolve"><span class="hs-identifier hs-var">solverSolve</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337399"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337432"><span class="hs-identifier hs-var">evaluated</span></a></span><span>
</span><span id="line-415"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682337433"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-416"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><span class="annottext">SolvingFailure
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Unsat"><span class="hs-identifier hs-var">Unsat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">VerifierResult input SolvingFailure
-&gt; IO (VerifierResult input SolvingFailure)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(VerifierResult input SolvingFailure
 -&gt; IO (VerifierResult input SolvingFailure))
-&gt; VerifierResult input SolvingFailure
-&gt; IO (VerifierResult input SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; VerifierResult input SolvingFailure
forall cex exception. Bool -&gt; VerifierResult cex exception
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierNoCex"><span class="hs-identifier hs-var">CEGISVerifierNoCex</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-417"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621682337434"><span class="annot"><span class="annottext">SolvingFailure
</span><a href="#local-6989586621682337434"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">VerifierResult input SolvingFailure
-&gt; IO (VerifierResult input SolvingFailure)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(VerifierResult input SolvingFailure
 -&gt; IO (VerifierResult input SolvingFailure))
-&gt; VerifierResult input SolvingFailure
-&gt; IO (VerifierResult input SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SolvingFailure -&gt; VerifierResult input SolvingFailure
forall cex exception. exception -&gt; VerifierResult cex exception
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierException"><span class="hs-identifier hs-var">CEGISVerifierException</span></a></span><span> </span><span class="annot"><span class="annottext">SolvingFailure
</span><a href="#local-6989586621682337434"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-418"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621682337435"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337435"><span class="hs-identifier hs-var">model</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-419"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682337439"><span class="annot"><span class="annottext">newCexInput :: input
</span><a href="#local-6989586621682337439"><span class="hs-identifier hs-var hs-var">newCexInput</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-420"></span><span>                  </span><span class="annot"><span class="annottext">Bool -&gt; Model -&gt; input -&gt; input
forall a. EvalSym a =&gt; Bool -&gt; Model -&gt; a -&gt; a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#evalSym"><span class="hs-identifier hs-var">evalSym</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnySymbolSet -&gt; Model -&gt; Model
forall model symbolSet (typedSymbol :: * -&gt; *).
ModelOps model symbolSet typedSymbol =&gt;
symbolSet -&gt; model -&gt; model
</span><a href="Grisette.Internal.Core.Data.Class.ModelOps.html#exact"><span class="hs-identifier hs-var">exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">input -&gt; AnySymbolSet
forall a. ExtractSym a =&gt; a -&gt; AnySymbolSet
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#extractSym"><span class="hs-identifier hs-var">extractSym</span></a></span><span> </span><span class="annot"><span class="annottext">input
</span><a href="#local-6989586621682337422"><span class="hs-identifier hs-var">input</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337435"><span class="hs-identifier hs-var">model</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">input
</span><a href="#local-6989586621682337422"><span class="hs-identifier hs-var">input</span></a></span><span>
</span><span id="line-421"></span><span>            </span><span class="annot"><span class="annottext">VerifierResult input SolvingFailure
-&gt; IO (VerifierResult input SolvingFailure)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(VerifierResult input SolvingFailure
 -&gt; IO (VerifierResult input SolvingFailure))
-&gt; VerifierResult input SolvingFailure
-&gt; IO (VerifierResult input SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">input -&gt; VerifierResult input SolvingFailure
forall cex exception. cex -&gt; VerifierResult cex exception
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierFoundCex"><span class="hs-identifier hs-var">CEGISVerifierFoundCex</span></a></span><span> </span><span class="annot"><span class="annottext">input
</span><a href="#local-6989586621682337439"><span class="hs-identifier hs-var">newCexInput</span></a></span><span>
</span><span id="line-422"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621682337406"><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337406"><span class="hs-identifier hs-var">conInputs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682337410"><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337410"><span class="hs-identifier hs-var">symInputs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(input -&gt; Bool) -&gt; [input] -&gt; ([input], [input])
forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">partition</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnySymbolSet -&gt; Bool
forall symbolSet (typedSymbol :: * -&gt; *).
SymbolSetOps symbolSet typedSymbol =&gt;
symbolSet -&gt; Bool
</span><a href="Grisette.Internal.Core.Data.Class.ModelOps.html#isEmptySet"><span class="hs-identifier hs-var">isEmptySet</span></a></span><span> </span><span class="annot"><span class="annottext">(AnySymbolSet -&gt; Bool) -&gt; (input -&gt; AnySymbolSet) -&gt; input -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">input -&gt; AnySymbolSet
forall a. ExtractSym a =&gt; a -&gt; AnySymbolSet
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#extractSym"><span class="hs-identifier hs-var">extractSym</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337400"><span class="hs-identifier hs-var">inputs</span></a></span><span>
</span><span id="line-423"></span><span>
</span><span id="line-424"></span><span class="hs-comment">-- | CEGIS with a single symbolic input to represent a set of inputs. See</span><span>
</span><span id="line-425"></span><span class="hs-comment">-- 'cegis' for more details.</span><span>
</span><span id="line-426"></span><span class="hs-comment">--</span><span>
</span><span id="line-427"></span><span class="hs-comment">-- The difference from 'cegis' is that this function accepts two solver handles,</span><span>
</span><span id="line-428"></span><span class="hs-comment">-- one for the synthesizer and one for the verifier.</span><span>
</span><span id="line-429"></span><span class="hs-comment">--</span><span>
</span><span id="line-430"></span><span class="hs-comment">-- The synthesizer solver will **not** be reset, while the verifier solver will</span><span>
</span><span id="line-431"></span><span class="hs-comment">-- be reset after each iteration.</span><span>
</span><span id="line-432"></span><span id="local-6989586621682336524"><span id="local-6989586621682336525"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegis"><span class="hs-identifier hs-type">solverCegis</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-433"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier hs-type">Solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336524"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-434"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336525"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-435"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336525"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-436"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier hs-type">SymEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336525"><span class="hs-identifier hs-type">inputs</span></a></span><span>
</span><span id="line-437"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-438"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The synthesizer solver handle</span></span><span>
</span><span id="line-439"></span><span>  </span><span class="annot"><a href="#local-6989586621682336524"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-440"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The verifier solver handle</span></span><span>
</span><span id="line-441"></span><span>  </span><span class="annot"><a href="#local-6989586621682336524"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-442"></span><span>  </span><span class="hs-comment">-- | Initial symbolic inputs. The solver will try to find a</span><span>
</span><span id="line-443"></span><span>  </span><span class="hs-comment">-- program that works on all the inputs representable by it (see</span><span>
</span><span id="line-444"></span><span>  </span><span class="hs-comment">-- t'CEGISCondition').</span><span>
</span><span id="line-445"></span><span>  </span><span class="annot"><a href="#local-6989586621682336525"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-446"></span><span>  </span><span class="hs-comment">-- | The condition for the solver to solve. All the</span><span>
</span><span id="line-447"></span><span>  </span><span class="hs-comment">-- symbolic constants that are not in the inputs will</span><span>
</span><span id="line-448"></span><span>  </span><span class="hs-comment">-- be considered as part of the symbolic program.</span><span>
</span><span id="line-449"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336525"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-450"></span><span>  </span><span class="hs-comment">-- | The counter-examples generated</span><span>
</span><span id="line-451"></span><span>  </span><span class="hs-comment">-- during the CEGIS loop, and the</span><span>
</span><span id="line-452"></span><span>  </span><span class="hs-comment">-- model found by the solver.</span><span>
</span><span id="line-453"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336525"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-454"></span><span id="solverCegis"><span class="annot"><span class="annottext">solverCegis :: forall handle inputs.
(Solver handle, EvalSym inputs, ExtractSym inputs, SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (inputs -&gt; CEGISCondition)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegis"><span class="hs-identifier hs-var hs-var">solverCegis</span></a></span></span><span> </span><span id="local-6989586621682337450"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337450"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span id="local-6989586621682337451"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337451"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span id="local-6989586621682337452"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337452"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-455"></span><span>  </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; [inputs]
-&gt; (inputs -&gt; CEGISCondition)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall input handle.
(EvalSym input, ExtractSym input, Solver handle) =&gt;
handle
-&gt; handle
-&gt; [input]
-&gt; (input -&gt; CEGISCondition)
-&gt; IO ([input], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisMultiInputs"><span class="hs-identifier hs-var">solverCegisMultiInputs</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337450"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337451"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337452"><span class="hs-identifier hs-var">inputs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-458"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, using multiple (possibly</span><span>
</span><span id="line-459"></span><span class="hs-comment">-- symbolic) inputs to represent a set of inputs.</span><span>
</span><span id="line-460"></span><span class="hs-comment">--</span><span>
</span><span id="line-461"></span><span class="hs-comment">-- The difference from 'cegisExceptMultiInputs' is that this function accepts</span><span>
</span><span id="line-462"></span><span class="hs-comment">-- two solver handles, one for the synthesizer and one for the verifier.</span><span>
</span><span id="line-463"></span><span class="hs-comment">--</span><span>
</span><span id="line-464"></span><span class="hs-comment">-- The synthesizer solver will **not** be reset, while the verifier solver will</span><span>
</span><span id="line-465"></span><span class="hs-comment">-- be reset after each iteration.</span><span>
</span><span id="line-466"></span><span id="local-6989586621682336529"><span id="local-6989586621682336530"><span id="local-6989586621682336531"><span id="local-6989586621682336532"><span id="local-6989586621682336533"><span id="local-6989586621682336534"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptMultiInputs"><span class="hs-identifier hs-type">solverCegisExceptMultiInputs</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-467"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier hs-type">Solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336529"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-468"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336530"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-469"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336530"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-470"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336531"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336532"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336533"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336534"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-471"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336532"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-472"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682336532"><span class="hs-identifier hs-type">u</span></a></span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-474"></span><span>  </span><span class="annot"><a href="#local-6989586621682336529"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-475"></span><span>  </span><span class="annot"><a href="#local-6989586621682336529"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-476"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336530"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-477"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682336533"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336534"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-478"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336530"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336531"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-479"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336530"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-480"></span><span id="solverCegisExceptMultiInputs"><span class="annot"><span class="annottext">solverCegisExceptMultiInputs :: forall handle inputs t (u :: * -&gt; *) e v.
(Solver handle, EvalSym inputs, ExtractSym inputs,
 UnionWithExcept t u e v, PlainUnion u, Monad u) =&gt;
handle
-&gt; handle
-&gt; [inputs]
-&gt; (Either e v -&gt; CEGISCondition)
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptMultiInputs"><span class="hs-identifier hs-var hs-var">solverCegisExceptMultiInputs</span></a></span></span><span>
</span><span id="line-481"></span><span>  </span><span id="local-6989586621682337470"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337470"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span>
</span><span id="line-482"></span><span>  </span><span id="local-6989586621682337471"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337471"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span>
</span><span id="line-483"></span><span>  </span><span id="local-6989586621682337472"><span class="annot"><span class="annottext">[inputs]
</span><a href="#local-6989586621682337472"><span class="hs-identifier hs-var">cexes</span></a></span></span><span>
</span><span id="line-484"></span><span>  </span><span id="local-6989586621682337473"><span class="annot"><span class="annottext">Either e v -&gt; CEGISCondition
</span><a href="#local-6989586621682337473"><span class="hs-identifier hs-var">interpretFun</span></a></span></span><span>
</span><span id="line-485"></span><span>  </span><span id="local-6989586621682337474"><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337474"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-486"></span><span>    </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; [inputs]
-&gt; (inputs -&gt; CEGISCondition)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall input handle.
(EvalSym input, ExtractSym input, Solver handle) =&gt;
handle
-&gt; handle
-&gt; [input]
-&gt; (input -&gt; CEGISCondition)
-&gt; IO ([input], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisMultiInputs"><span class="hs-identifier hs-var">solverCegisMultiInputs</span></a></span><span>
</span><span id="line-487"></span><span>      </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337470"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span>
</span><span id="line-488"></span><span>      </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337471"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span>
</span><span id="line-489"></span><span>      </span><span class="annot"><span class="annottext">[inputs]
</span><a href="#local-6989586621682337472"><span class="hs-identifier hs-var">cexes</span></a></span><span>
</span><span id="line-490"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">u CEGISCondition -&gt; CEGISCondition
forall (u :: * -&gt; *) a.
(SimpleMergeable a, PlainUnion u) =&gt;
u a -&gt; a
</span><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#simpleMerge"><span class="hs-identifier hs-var">simpleMerge</span></a></span><span> </span><span class="annot"><span class="annottext">(u CEGISCondition -&gt; CEGISCondition)
-&gt; (inputs -&gt; u CEGISCondition) -&gt; inputs -&gt; CEGISCondition
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either e v -&gt; CEGISCondition
</span><a href="#local-6989586621682337473"><span class="hs-identifier hs-var">interpretFun</span></a></span><span> </span><span class="annot"><span class="annottext">(Either e v -&gt; CEGISCondition)
-&gt; u (Either e v) -&gt; u CEGISCondition
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(u (Either e v) -&gt; u CEGISCondition)
-&gt; (inputs -&gt; u (Either e v)) -&gt; inputs -&gt; u CEGISCondition
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; u (Either e v)
forall t (u :: * -&gt; *) e v.
UnionWithExcept t u e v =&gt;
t -&gt; u (Either e v)
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#extractUnionExcept"><span class="hs-identifier hs-var">extractUnionExcept</span></a></span><span> </span><span class="annot"><span class="annottext">(t -&gt; u (Either e v)) -&gt; (inputs -&gt; t) -&gt; inputs -&gt; u (Either e v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337474"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-491"></span><span>
</span><span id="line-492"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-493"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, using multiple (possibly</span><span>
</span><span id="line-494"></span><span class="hs-comment">-- symbolic) inputs to represent a set of inputs.</span><span>
</span><span id="line-495"></span><span class="hs-comment">--</span><span>
</span><span id="line-496"></span><span class="hs-comment">-- The errors should be translated to assertion or assumption violations.</span><span>
</span><span id="line-497"></span><span class="hs-comment">--</span><span>
</span><span id="line-498"></span><span class="hs-comment">-- The difference from 'cegisExceptVCMultiInputs' is that this function accepts</span><span>
</span><span id="line-499"></span><span class="hs-comment">-- two solver handles, one for the synthesizer and one for the verifier.</span><span>
</span><span id="line-500"></span><span class="hs-comment">--</span><span>
</span><span id="line-501"></span><span class="hs-comment">-- The synthesizer solver will **not** be reset, while the verifier solver will</span><span>
</span><span id="line-502"></span><span class="hs-comment">-- be reset after each iteration.</span><span>
</span><span id="line-503"></span><span id="local-6989586621682336551"><span id="local-6989586621682336552"><span id="local-6989586621682336553"><span id="local-6989586621682336554"><span id="local-6989586621682336555"><span id="local-6989586621682336556"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptVCMultiInputs"><span class="hs-identifier hs-type">solverCegisExceptVCMultiInputs</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-504"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier hs-type">Solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336551"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-505"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336552"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-506"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336552"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-507"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336553"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336554"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336555"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336556"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-508"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336554"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-509"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682336554"><span class="hs-identifier hs-type">u</span></a></span><span>
</span><span id="line-510"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-511"></span><span>  </span><span class="annot"><a href="#local-6989586621682336551"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-512"></span><span>  </span><span class="annot"><a href="#local-6989586621682336551"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-513"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336552"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-514"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682336555"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336556"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336554"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#VerificationConditions"><span class="hs-identifier hs-type">VerificationConditions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-515"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336552"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336553"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-516"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336552"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-517"></span><span id="solverCegisExceptVCMultiInputs"><span class="annot"><span class="annottext">solverCegisExceptVCMultiInputs :: forall handle inputs t (u :: * -&gt; *) e v.
(Solver handle, EvalSym inputs, ExtractSym inputs,
 UnionWithExcept t u e v, PlainUnion u, Monad u) =&gt;
handle
-&gt; handle
-&gt; [inputs]
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptVCMultiInputs"><span class="hs-identifier hs-var hs-var">solverCegisExceptVCMultiInputs</span></a></span></span><span>
</span><span id="line-518"></span><span>  </span><span id="local-6989586621682337495"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337495"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span>
</span><span id="line-519"></span><span>  </span><span id="local-6989586621682337496"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337496"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span>
</span><span id="line-520"></span><span>  </span><span id="local-6989586621682337497"><span class="annot"><span class="annottext">[inputs]
</span><a href="#local-6989586621682337497"><span class="hs-identifier hs-var">cexes</span></a></span></span><span>
</span><span id="line-521"></span><span>  </span><span id="local-6989586621682337498"><span class="annot"><span class="annottext">Either e v -&gt; u (Either VerificationConditions ())
</span><a href="#local-6989586621682337498"><span class="hs-identifier hs-var">interpretFun</span></a></span></span><span>
</span><span id="line-522"></span><span>  </span><span id="local-6989586621682337499"><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337499"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-523"></span><span>    </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; [inputs]
-&gt; (inputs -&gt; CEGISCondition)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall input handle.
(EvalSym input, ExtractSym input, Solver handle) =&gt;
handle
-&gt; handle
-&gt; [input]
-&gt; (input -&gt; CEGISCondition)
-&gt; IO ([input], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisMultiInputs"><span class="hs-identifier hs-var">solverCegisMultiInputs</span></a></span><span>
</span><span id="line-524"></span><span>      </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337495"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span>
</span><span id="line-525"></span><span>      </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337496"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span>
</span><span id="line-526"></span><span>      </span><span class="annot"><span class="annottext">[inputs]
</span><a href="#local-6989586621682337497"><span class="hs-identifier hs-var">cexes</span></a></span><span>
</span><span id="line-527"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337500"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337500"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-528"></span><span>          </span><span class="annot"><span class="annottext">u CEGISCondition -&gt; CEGISCondition
forall (u :: * -&gt; *) a.
(SimpleMergeable a, PlainUnion u) =&gt;
u a -&gt; a
</span><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#simpleMerge"><span class="hs-identifier hs-var">simpleMerge</span></a></span><span>
</span><span id="line-529"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-530"></span><span>                  </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><span class="annottext">VerificationConditions
</span><a href="Grisette.Internal.Core.Control.Exception.html#AssumptionViolation"><span class="hs-identifier hs-var">AssumptionViolation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-531"></span><span>                    </span><span class="annot"><span class="annottext">SymBool -&gt; SymBool -&gt; CEGISCondition
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPrePost"><span class="hs-identifier hs-var">cegisPrePost</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SymBool
forall c t. Solvable c t =&gt; c -&gt; t
</span><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SymBool
forall c t. Solvable c t =&gt; c -&gt; t
</span><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-532"></span><span>                  </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><span class="annottext">VerificationConditions
</span><a href="Grisette.Internal.Core.Control.Exception.html#AssertionViolation"><span class="hs-identifier hs-var">AssertionViolation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; CEGISCondition
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPostCond"><span class="hs-identifier hs-var">cegisPostCond</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SymBool
forall c t. Solvable c t =&gt; c -&gt; t
</span><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-533"></span><span>                  </span><span class="annot"><span class="annottext">Either VerificationConditions ()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; CEGISCondition
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPostCond"><span class="hs-identifier hs-var">cegisPostCond</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SymBool
forall c t. Solvable c t =&gt; c -&gt; t
</span><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-534"></span><span>              </span><span class="hs-special">)</span><span>
</span><span id="line-535"></span><span>                </span><span class="annot"><span class="annottext">(Either VerificationConditions () -&gt; CEGISCondition)
-&gt; u (Either VerificationConditions ()) -&gt; u CEGISCondition
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; u (Either e v)
forall t (u :: * -&gt; *) e v.
UnionWithExcept t u e v =&gt;
t -&gt; u (Either e v)
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#extractUnionExcept"><span class="hs-identifier hs-var">extractUnionExcept</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337499"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337500"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">u (Either e v)
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; u (Either VerificationConditions ())
forall a b. u a -&gt; (a -&gt; u b) -&gt; u b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Either e v -&gt; u (Either VerificationConditions ())
</span><a href="#local-6989586621682337498"><span class="hs-identifier hs-var">interpretFun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-536"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-537"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-538"></span><span>
</span><span id="line-539"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-540"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, using multiple (possibly</span><span>
</span><span id="line-541"></span><span class="hs-comment">-- symbolic) inputs to represent a set of inputs. See</span><span>
</span><span id="line-542"></span><span class="hs-comment">-- 'cegisExceptStdVCMultiInputs' for more details.</span><span>
</span><span id="line-543"></span><span class="hs-comment">--</span><span>
</span><span id="line-544"></span><span class="hs-comment">-- The difference from 'cegisExceptStdVCMultiInputs' is that this function</span><span>
</span><span id="line-545"></span><span class="hs-comment">-- accepts two solver handles, one for the synthesizer and one for the verifier.</span><span>
</span><span id="line-546"></span><span class="hs-comment">--</span><span>
</span><span id="line-547"></span><span class="hs-comment">-- The synthesizer solver will **not** be reset, while the verifier solver will</span><span>
</span><span id="line-548"></span><span class="hs-comment">-- be reset after each iteration.</span><span>
</span><span id="line-549"></span><span id="local-6989586621682336566"><span id="local-6989586621682336567"><span id="local-6989586621682336568"><span id="local-6989586621682336569"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptStdVCMultiInputs"><span class="hs-identifier hs-type">solverCegisExceptStdVCMultiInputs</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-550"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier hs-type">Solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336566"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-551"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336567"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-552"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336567"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-553"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336568"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336569"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#VerificationConditions"><span class="hs-identifier hs-type">VerificationConditions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-554"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336569"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-555"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682336569"><span class="hs-identifier hs-type">u</span></a></span><span>
</span><span id="line-556"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-557"></span><span>  </span><span class="annot"><a href="#local-6989586621682336566"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-558"></span><span>  </span><span class="annot"><a href="#local-6989586621682336566"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-559"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336567"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-560"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336567"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336568"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-561"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336567"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-562"></span><span id="solverCegisExceptStdVCMultiInputs"><span class="annot"><span class="annottext">solverCegisExceptStdVCMultiInputs :: forall handle inputs t (u :: * -&gt; *).
(Solver handle, EvalSym inputs, ExtractSym inputs,
 UnionWithExcept t u VerificationConditions (), PlainUnion u,
 Monad u) =&gt;
handle
-&gt; handle
-&gt; [inputs]
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptStdVCMultiInputs"><span class="hs-identifier hs-var hs-var">solverCegisExceptStdVCMultiInputs</span></a></span></span><span> </span><span id="local-6989586621682337514"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337514"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span id="local-6989586621682337515"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337515"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span id="local-6989586621682337516"><span class="annot"><span class="annottext">[inputs]
</span><a href="#local-6989586621682337516"><span class="hs-identifier hs-var">cexes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-563"></span><span>  </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; [inputs]
-&gt; (Either VerificationConditions ()
    -&gt; u (Either VerificationConditions ()))
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall handle inputs t (u :: * -&gt; *) e v.
(Solver handle, EvalSym inputs, ExtractSym inputs,
 UnionWithExcept t u e v, PlainUnion u, Monad u) =&gt;
handle
-&gt; handle
-&gt; [inputs]
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptVCMultiInputs"><span class="hs-identifier hs-var">solverCegisExceptVCMultiInputs</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337514"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337515"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">[inputs]
</span><a href="#local-6989586621682337516"><span class="hs-identifier hs-var">cexes</span></a></span><span> </span><span class="annot"><span class="annottext">Either VerificationConditions ()
-&gt; u (Either VerificationConditions ())
forall a. a -&gt; u a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span>
</span><span id="line-564"></span><span>
</span><span id="line-565"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-566"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, using a single symbolic</span><span>
</span><span id="line-567"></span><span class="hs-comment">-- input to represent a set of inputs. See 'cegisExcept' for more details.</span><span>
</span><span id="line-568"></span><span class="hs-comment">--</span><span>
</span><span id="line-569"></span><span class="hs-comment">-- The difference from 'cegisExcept' is that this function accepts two solver</span><span>
</span><span id="line-570"></span><span class="hs-comment">-- handles, one for the synthesizer and one for the verifier.</span><span>
</span><span id="line-571"></span><span class="hs-comment">--</span><span>
</span><span id="line-572"></span><span class="hs-comment">-- The synthesizer solver will **not** be reset, while the verifier solver will</span><span>
</span><span id="line-573"></span><span class="hs-comment">-- be reset after each iteration.</span><span>
</span><span id="line-574"></span><span id="local-6989586621682336574"><span id="local-6989586621682336575"><span id="local-6989586621682336576"><span id="local-6989586621682336577"><span id="local-6989586621682336578"><span id="local-6989586621682336579"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExcept"><span class="hs-identifier hs-type">solverCegisExcept</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-575"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336574"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336575"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336576"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336577"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-576"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336575"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-577"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621682336575"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-578"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336578"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-579"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336578"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-580"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier hs-type">Solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336579"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-581"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier hs-type">SymEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336578"><span class="hs-identifier hs-type">inputs</span></a></span><span>
</span><span id="line-582"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-583"></span><span>  </span><span class="annot"><a href="#local-6989586621682336579"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-584"></span><span>  </span><span class="annot"><a href="#local-6989586621682336579"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-585"></span><span>  </span><span class="annot"><a href="#local-6989586621682336578"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-586"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682336576"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336577"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-587"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336578"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336574"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-588"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336578"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-589"></span><span id="solverCegisExcept"><span class="annot"><span class="annottext">solverCegisExcept :: forall t (u :: * -&gt; *) e v inputs handle.
(UnionWithExcept t u e v, PlainUnion u, Functor u, EvalSym inputs,
 ExtractSym inputs, Solver handle, SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (Either e v -&gt; CEGISCondition)
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExcept"><span class="hs-identifier hs-var hs-var">solverCegisExcept</span></a></span></span><span> </span><span id="local-6989586621682337532"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337532"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span id="local-6989586621682337533"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337533"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span id="local-6989586621682337534"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337534"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621682337535"><span class="annot"><span class="annottext">Either e v -&gt; CEGISCondition
</span><a href="#local-6989586621682337535"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682337536"><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337536"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-590"></span><span>  </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; inputs
-&gt; (inputs -&gt; CEGISCondition)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall handle inputs.
(Solver handle, EvalSym inputs, ExtractSym inputs, SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (inputs -&gt; CEGISCondition)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegis"><span class="hs-identifier hs-var">solverCegis</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337532"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337533"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337534"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">((inputs -&gt; CEGISCondition)
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (inputs -&gt; CEGISCondition)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-591"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621682337537"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337537"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">u CEGISCondition -&gt; CEGISCondition
forall (u :: * -&gt; *) a.
(SimpleMergeable a, PlainUnion u) =&gt;
u a -&gt; a
</span><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#simpleMerge"><span class="hs-identifier hs-var">simpleMerge</span></a></span><span> </span><span class="annot"><span class="annottext">(u CEGISCondition -&gt; CEGISCondition)
-&gt; u CEGISCondition -&gt; CEGISCondition
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Either e v -&gt; CEGISCondition
</span><a href="#local-6989586621682337535"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Either e v -&gt; CEGISCondition)
-&gt; u (Either e v) -&gt; u CEGISCondition
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; u (Either e v)
forall t (u :: * -&gt; *) e v.
UnionWithExcept t u e v =&gt;
t -&gt; u (Either e v)
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#extractUnionExcept"><span class="hs-identifier hs-var">extractUnionExcept</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337536"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337537"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-592"></span><span>
</span><span id="line-593"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-594"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, using a single symbolic</span><span>
</span><span id="line-595"></span><span class="hs-comment">-- input to represent a set of inputs.</span><span>
</span><span id="line-596"></span><span class="hs-comment">--</span><span>
</span><span id="line-597"></span><span class="hs-comment">-- The errors should be translated to assertion or assumption violations.</span><span>
</span><span id="line-598"></span><span class="hs-comment">--</span><span>
</span><span id="line-599"></span><span class="hs-comment">-- The difference from 'cegisExceptVC' is that this function accepts two solver</span><span>
</span><span id="line-600"></span><span class="hs-comment">-- handles, one for the synthesizer and one for the verifier.</span><span>
</span><span id="line-601"></span><span class="hs-comment">--</span><span>
</span><span id="line-602"></span><span class="hs-comment">-- The synthesizer solver will **not** be reset, while the verifier solver will</span><span>
</span><span id="line-603"></span><span class="hs-comment">-- be reset after each iteration.</span><span>
</span><span id="line-604"></span><span id="local-6989586621682336586"><span id="local-6989586621682336587"><span id="local-6989586621682336588"><span id="local-6989586621682336589"><span id="local-6989586621682336590"><span id="local-6989586621682336591"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptVC"><span class="hs-identifier hs-type">solverCegisExceptVC</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-605"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336586"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336587"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336588"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336589"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-606"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336587"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-607"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682336587"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-608"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336590"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-609"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336590"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-610"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier hs-type">Solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336591"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-611"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier hs-type">SymEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336590"><span class="hs-identifier hs-type">inputs</span></a></span><span>
</span><span id="line-612"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-613"></span><span>  </span><span class="annot"><a href="#local-6989586621682336591"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-614"></span><span>  </span><span class="annot"><a href="#local-6989586621682336591"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-615"></span><span>  </span><span class="annot"><a href="#local-6989586621682336590"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-616"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682336588"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336589"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336587"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#VerificationConditions"><span class="hs-identifier hs-type">VerificationConditions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-617"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336590"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336586"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-618"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336590"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-619"></span><span id="solverCegisExceptVC"><span class="annot"><span class="annottext">solverCegisExceptVC :: forall t (u :: * -&gt; *) e v inputs handle.
(UnionWithExcept t u e v, PlainUnion u, Monad u, EvalSym inputs,
 ExtractSym inputs, Solver handle, SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptVC"><span class="hs-identifier hs-var hs-var">solverCegisExceptVC</span></a></span></span><span> </span><span id="local-6989586621682337560"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337560"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span id="local-6989586621682337561"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337561"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span id="local-6989586621682337562"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337562"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621682337563"><span class="annot"><span class="annottext">Either e v -&gt; u (Either VerificationConditions ())
</span><a href="#local-6989586621682337563"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682337564"><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337564"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-620"></span><span>  </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; inputs
-&gt; (inputs -&gt; CEGISCondition)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall handle inputs.
(Solver handle, EvalSym inputs, ExtractSym inputs, SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (inputs -&gt; CEGISCondition)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegis"><span class="hs-identifier hs-var">solverCegis</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337560"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337561"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337562"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">((inputs -&gt; CEGISCondition)
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (inputs -&gt; CEGISCondition)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337565"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337565"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-621"></span><span>    </span><span class="annot"><span class="annottext">u CEGISCondition -&gt; CEGISCondition
forall (u :: * -&gt; *) a.
(SimpleMergeable a, PlainUnion u) =&gt;
u a -&gt; a
</span><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#simpleMerge"><span class="hs-identifier hs-var">simpleMerge</span></a></span><span> </span><span class="annot"><span class="annottext">(u CEGISCondition -&gt; CEGISCondition)
-&gt; u CEGISCondition -&gt; CEGISCondition
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-622"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-623"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><span class="annottext">VerificationConditions
</span><a href="Grisette.Internal.Core.Control.Exception.html#AssumptionViolation"><span class="hs-identifier hs-var">AssumptionViolation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; SymBool -&gt; CEGISCondition
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPrePost"><span class="hs-identifier hs-var">cegisPrePost</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SymBool
forall c t. Solvable c t =&gt; c -&gt; t
</span><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SymBool
forall c t. Solvable c t =&gt; c -&gt; t
</span><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-624"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><span class="annottext">VerificationConditions
</span><a href="Grisette.Internal.Core.Control.Exception.html#AssertionViolation"><span class="hs-identifier hs-var">AssertionViolation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; CEGISCondition
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPostCond"><span class="hs-identifier hs-var">cegisPostCond</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SymBool
forall c t. Solvable c t =&gt; c -&gt; t
</span><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-625"></span><span>          </span><span class="annot"><span class="annottext">Either VerificationConditions ()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; CEGISCondition
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPostCond"><span class="hs-identifier hs-var">cegisPostCond</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SymBool
forall c t. Solvable c t =&gt; c -&gt; t
</span><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-626"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-627"></span><span>        </span><span class="annot"><span class="annottext">(Either VerificationConditions () -&gt; CEGISCondition)
-&gt; u (Either VerificationConditions ()) -&gt; u CEGISCondition
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; u (Either e v)
forall t (u :: * -&gt; *) e v.
UnionWithExcept t u e v =&gt;
t -&gt; u (Either e v)
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#extractUnionExcept"><span class="hs-identifier hs-var">extractUnionExcept</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337564"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337565"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">u (Either e v)
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; u (Either VerificationConditions ())
forall a b. u a -&gt; (a -&gt; u b) -&gt; u b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Either e v -&gt; u (Either VerificationConditions ())
</span><a href="#local-6989586621682337563"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-628"></span><span>
</span><span id="line-629"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-630"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, using a single symbolic</span><span>
</span><span id="line-631"></span><span class="hs-comment">-- input to represent a set of inputs. See 'cegisExceptStdVC' for more details.</span><span>
</span><span id="line-632"></span><span class="hs-comment">--</span><span>
</span><span id="line-633"></span><span class="hs-comment">-- The difference from 'cegisExceptStdVC' is that this function accepts two</span><span>
</span><span id="line-634"></span><span class="hs-comment">-- solver handles, one for the synthesizer and one for the verifier.</span><span>
</span><span id="line-635"></span><span class="hs-comment">--</span><span>
</span><span id="line-636"></span><span class="hs-comment">-- The synthesizer solver will **not** be reset, while the verifier solver will</span><span>
</span><span id="line-637"></span><span class="hs-comment">-- be reset after each iteration.</span><span>
</span><span id="line-638"></span><span id="local-6989586621682336598"><span id="local-6989586621682336599"><span id="local-6989586621682336600"><span id="local-6989586621682336601"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptStdVC"><span class="hs-identifier hs-type">solverCegisExceptStdVC</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-639"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336598"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336599"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#VerificationConditions"><span class="hs-identifier hs-type">VerificationConditions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-640"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336599"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-641"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682336599"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-642"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336600"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-643"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336600"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-644"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier hs-type">Solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336601"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-645"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier hs-type">SymEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336600"><span class="hs-identifier hs-type">inputs</span></a></span><span>
</span><span id="line-646"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-647"></span><span>  </span><span class="annot"><a href="#local-6989586621682336601"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-648"></span><span>  </span><span class="annot"><a href="#local-6989586621682336601"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-649"></span><span>  </span><span class="annot"><a href="#local-6989586621682336600"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-650"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336600"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336598"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-651"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336600"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-652"></span><span id="solverCegisExceptStdVC"><span class="annot"><span class="annottext">solverCegisExceptStdVC :: forall t (u :: * -&gt; *) inputs handle.
(UnionWithExcept t u VerificationConditions (), PlainUnion u,
 Monad u, EvalSym inputs, ExtractSym inputs, Solver handle,
 SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptStdVC"><span class="hs-identifier hs-var hs-var">solverCegisExceptStdVC</span></a></span></span><span> </span><span id="local-6989586621682337581"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337581"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span id="local-6989586621682337582"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337582"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span id="local-6989586621682337583"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337583"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-653"></span><span>  </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; inputs
-&gt; (Either VerificationConditions ()
    -&gt; u (Either VerificationConditions ()))
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall t (u :: * -&gt; *) e v inputs handle.
(UnionWithExcept t u e v, PlainUnion u, Monad u, EvalSym inputs,
 ExtractSym inputs, Solver handle, SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptVC"><span class="hs-identifier hs-var">solverCegisExceptVC</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337581"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337582"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337583"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">Either VerificationConditions ()
-&gt; u (Either VerificationConditions ())
forall a. a -&gt; u a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span>
</span><span id="line-654"></span><span>
</span><span id="line-655"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-656"></span><span class="hs-comment">-- CEGIS with a single symbolic input to represent a set of inputs. See</span><span>
</span><span id="line-657"></span><span class="hs-comment">-- 'cegisForAll' for more details.</span><span>
</span><span id="line-658"></span><span class="hs-comment">--</span><span>
</span><span id="line-659"></span><span class="hs-comment">-- The difference from 'cegisForAll' is that this function accepts two solver</span><span>
</span><span id="line-660"></span><span class="hs-comment">-- handles, one for the synthesizer and one for the verifier.</span><span>
</span><span id="line-661"></span><span class="hs-comment">--</span><span>
</span><span id="line-662"></span><span class="hs-comment">-- The synthesizer solver will **not** be reset, while the verifier solver will</span><span>
</span><span id="line-663"></span><span class="hs-comment">-- be reset after each iteration.</span><span>
</span><span id="line-664"></span><span id="local-6989586621682336606"><span id="local-6989586621682336607"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAll"><span class="hs-identifier hs-type">solverCegisForAll</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-665"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336606"><span class="hs-identifier hs-type">forallInput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-666"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier hs-type">Solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336607"><span class="hs-identifier hs-type">handle</span></a></span><span>
</span><span id="line-667"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-668"></span><span>  </span><span class="annot"><a href="#local-6989586621682336607"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-669"></span><span>  </span><span class="annot"><a href="#local-6989586621682336607"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-670"></span><span>  </span><span class="hs-comment">-- | A symbolic value. All the symbolic constants in the value are treated as</span><span>
</span><span id="line-671"></span><span>  </span><span class="hs-comment">-- for-all variables.</span><span>
</span><span id="line-672"></span><span>  </span><span class="annot"><a href="#local-6989586621682336606"><span class="hs-identifier hs-type">forallInput</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-673"></span><span>  </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-674"></span><span>  </span><span class="hs-comment">-- | First output are the counter-examples for all the for-all variables, and</span><span>
</span><span id="line-675"></span><span>  </span><span class="hs-comment">-- the second output is the model for all other variables if CEGIS succeeds.</span><span>
</span><span id="line-676"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Grisette.Internal.SymPrim.Prim.Model.html#Model"><span class="hs-identifier hs-type">Model</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-677"></span><span id="solverCegisForAll"><span class="annot"><span class="annottext">solverCegisForAll :: forall forallInput handle.
(ExtractSym forallInput, Solver handle) =&gt;
handle
-&gt; handle
-&gt; forallInput
-&gt; CEGISCondition
-&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAll"><span class="hs-identifier hs-var hs-var">solverCegisForAll</span></a></span></span><span>
</span><span id="line-678"></span><span>  </span><span id="local-6989586621682337591"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337591"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span>
</span><span id="line-679"></span><span>  </span><span id="local-6989586621682337592"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337592"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span>
</span><span id="line-680"></span><span>  </span><span id="local-6989586621682337593"><span class="annot"><span class="annottext">forallInput
</span><a href="#local-6989586621682337593"><span class="hs-identifier hs-var">input</span></a></span></span><span>
</span><span id="line-681"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span> </span><span id="local-6989586621682337594"><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337594"><span class="hs-identifier hs-var">pre</span></a></span></span><span> </span><span id="local-6989586621682337595"><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337595"><span class="hs-identifier hs-var">post</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-682"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621682337596"><span class="annot"><a href="#local-6989586621682337596"><span class="hs-identifier hs-var">models</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682337597"><span class="annot"><a href="#local-6989586621682337597"><span class="hs-identifier hs-var">result</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-683"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; Bool
-&gt; SymBool
-&gt; RefinementConditionFun
-&gt; [VerifierFun Model SolvingFailure]
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall handle input exception.
Solver handle =&gt;
handle
-&gt; Bool
-&gt; SymBool
-&gt; SynthesisConstraintFun input
-&gt; [VerifierFun input exception]
-&gt; IO ([input], CEGISResult exception)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverGenericCEGIS"><span class="hs-identifier hs-var">solverGenericCEGIS</span></a></span><span>
</span><span id="line-684"></span><span>        </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337591"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span>
</span><span id="line-685"></span><span>        </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-686"></span><span>        </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337598"><span class="hs-identifier hs-var">phi</span></a></span><span>
</span><span id="line-687"></span><span>        </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682337599"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337599"><span class="hs-identifier hs-var">md</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; IO SymBool
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SymBool -&gt; IO SymBool) -&gt; SymBool -&gt; IO SymBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Model -&gt; SymBool -&gt; SymBool
forall a. EvalSym a =&gt; Bool -&gt; Model -&gt; a -&gt; a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#evalSym"><span class="hs-identifier hs-var">evalSym</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337599"><span class="hs-identifier hs-var">md</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337598"><span class="hs-identifier hs-var">phi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-688"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">VerifierFun Model SolvingFailure
</span><a href="#local-6989586621682337600"><span class="hs-identifier hs-var">verifier</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-689"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682337602"><span class="annot"><a href="#local-6989586621682337602"><span class="hs-identifier hs-var hs-var">exactResult</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CEGISResult SolvingFailure
</span><a href="#local-6989586621682337597"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-690"></span><span>          </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISSuccess"><span class="hs-identifier hs-type">CEGISSuccess</span></a></span><span> </span><span id="local-6989586621682337603"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337603"><span class="hs-identifier hs-var">model</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Model -&gt; CEGISResult SolvingFailure
forall exception. Model -&gt; CEGISResult exception
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISSuccess"><span class="hs-identifier hs-var">CEGISSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">(Model -&gt; CEGISResult SolvingFailure)
-&gt; Model -&gt; CEGISResult SolvingFailure
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AnySymbolSet -&gt; Model -&gt; Model
forall model symbolSet (typedSymbol :: * -&gt; *).
ModelOps model symbolSet typedSymbol =&gt;
symbolSet -&gt; model -&gt; model
</span><a href="Grisette.Internal.Core.Data.Class.ModelOps.html#exceptFor"><span class="hs-identifier hs-var">exceptFor</span></a></span><span> </span><span class="annot"><span class="annottext">AnySymbolSet
</span><a href="#local-6989586621682337604"><span class="hs-identifier hs-var">forallSymbols</span></a></span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337603"><span class="hs-identifier hs-var">model</span></a></span><span>
</span><span id="line-691"></span><span>          </span><span class="annot"><span class="annottext">CEGISResult SolvingFailure
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CEGISResult SolvingFailure
</span><a href="#local-6989586621682337597"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-692"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682337596"><span class="hs-identifier hs-type">models</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682337602"><span class="hs-identifier hs-type">exactResult</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-693"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-694"></span><span>      </span><span id="local-6989586621682337598"><span class="annot"><span class="annottext">phi :: SymBool
</span><a href="#local-6989586621682337598"><span class="hs-identifier hs-var hs-var">phi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337594"><span class="hs-identifier hs-var">pre</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; SymBool -&gt; SymBool
forall b. LogicalOp b =&gt; b -&gt; b -&gt; b
</span><a href="Grisette.Internal.Core.Data.Class.LogicalOp.html#.%26%26"><span class="hs-operator hs-var">.&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337595"><span class="hs-identifier hs-var">post</span></a></span><span>
</span><span id="line-695"></span><span>      </span><span id="local-6989586621682337608"><span class="annot"><span class="annottext">negphi :: SymBool
</span><a href="#local-6989586621682337608"><span class="hs-identifier hs-var hs-var">negphi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337594"><span class="hs-identifier hs-var">pre</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; SymBool -&gt; SymBool
forall b. LogicalOp b =&gt; b -&gt; b -&gt; b
</span><a href="Grisette.Internal.Core.Data.Class.LogicalOp.html#.%26%26"><span class="hs-operator hs-var">.&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; SymBool
forall b. LogicalOp b =&gt; b -&gt; b
</span><a href="Grisette.Internal.Core.Data.Class.LogicalOp.html#symNot"><span class="hs-identifier hs-var">symNot</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337595"><span class="hs-identifier hs-var">post</span></a></span><span>
</span><span id="line-696"></span><span>      </span><span id="local-6989586621682337604"><span class="annot"><span class="annottext">forallSymbols :: AnySymbolSet
</span><a href="#local-6989586621682337604"><span class="hs-identifier hs-var hs-var">forallSymbols</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forallInput -&gt; AnySymbolSet
forall a. ExtractSym a =&gt; a -&gt; AnySymbolSet
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#extractSym"><span class="hs-identifier hs-var">extractSym</span></a></span><span> </span><span class="annot"><span class="annottext">forallInput
</span><a href="#local-6989586621682337593"><span class="hs-identifier hs-var">input</span></a></span><span>
</span><span id="line-697"></span><span>      </span><span id="local-6989586621682337600"><span class="annot"><span class="annottext">verifier :: VerifierFun Model SolvingFailure
</span><a href="#local-6989586621682337600"><span class="hs-identifier hs-var hs-var">verifier</span></a></span></span><span> </span><span id="local-6989586621682337618"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337618"><span class="hs-identifier hs-var">candidate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-698"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682337621"><span class="annot"><span class="annottext">evaluated :: SymBool
</span><a href="#local-6989586621682337621"><span class="hs-identifier hs-var hs-var hs-var">evaluated</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-699"></span><span>              </span><span class="annot"><span class="annottext">Bool -&gt; Model -&gt; SymBool -&gt; SymBool
forall a. EvalSym a =&gt; Bool -&gt; Model -&gt; a -&gt; a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#evalSym"><span class="hs-identifier hs-var">evalSym</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnySymbolSet -&gt; Model -&gt; Model
forall model symbolSet (typedSymbol :: * -&gt; *).
ModelOps model symbolSet typedSymbol =&gt;
symbolSet -&gt; model -&gt; model
</span><a href="Grisette.Internal.Core.Data.Class.ModelOps.html#exceptFor"><span class="hs-identifier hs-var">exceptFor</span></a></span><span> </span><span class="annot"><span class="annottext">AnySymbolSet
</span><a href="#local-6989586621682337604"><span class="hs-identifier hs-var">forallSymbols</span></a></span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337618"><span class="hs-identifier hs-var">candidate</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337608"><span class="hs-identifier hs-var">negphi</span></a></span><span>
</span><span id="line-700"></span><span>        </span><span class="annot"><span class="annottext">handle -&gt; IO (Either SolvingFailure ())
forall handle.
Solver handle =&gt;
handle -&gt; IO (Either SolvingFailure ())
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#solverResetAssertions"><span class="hs-identifier hs-var">solverResetAssertions</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337592"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span>
</span><span id="line-701"></span><span>        </span><span id="local-6989586621682337622"><span class="annot"><a href="#local-6989586621682337622"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">handle -&gt; SymBool -&gt; IO (Either SolvingFailure Model)
forall handle.
Solver handle =&gt;
handle -&gt; SymBool -&gt; IO (Either SolvingFailure Model)
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#solverSolve"><span class="hs-identifier hs-var">solverSolve</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337592"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337621"><span class="hs-identifier hs-var">evaluated</span></a></span><span>
</span><span id="line-702"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682337622"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-703"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><span class="annottext">SolvingFailure
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Unsat"><span class="hs-identifier hs-var">Unsat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">VerifierResult Model SolvingFailure
-&gt; IO (VerifierResult Model SolvingFailure)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(VerifierResult Model SolvingFailure
 -&gt; IO (VerifierResult Model SolvingFailure))
-&gt; VerifierResult Model SolvingFailure
-&gt; IO (VerifierResult Model SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; VerifierResult Model SolvingFailure
forall cex exception. Bool -&gt; VerifierResult cex exception
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierNoCex"><span class="hs-identifier hs-var">CEGISVerifierNoCex</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-704"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621682337623"><span class="annot"><span class="annottext">SolvingFailure
</span><a href="#local-6989586621682337623"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">VerifierResult Model SolvingFailure
-&gt; IO (VerifierResult Model SolvingFailure)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(VerifierResult Model SolvingFailure
 -&gt; IO (VerifierResult Model SolvingFailure))
-&gt; VerifierResult Model SolvingFailure
-&gt; IO (VerifierResult Model SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SolvingFailure -&gt; VerifierResult Model SolvingFailure
forall cex exception. exception -&gt; VerifierResult cex exception
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierException"><span class="hs-identifier hs-var">CEGISVerifierException</span></a></span><span> </span><span class="annot"><span class="annottext">SolvingFailure
</span><a href="#local-6989586621682337623"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-705"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621682337624"><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337624"><span class="hs-identifier hs-var">model</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-706"></span><span>            </span><span class="annot"><span class="annottext">VerifierResult Model SolvingFailure
-&gt; IO (VerifierResult Model SolvingFailure)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(VerifierResult Model SolvingFailure
 -&gt; IO (VerifierResult Model SolvingFailure))
-&gt; VerifierResult Model SolvingFailure
-&gt; IO (VerifierResult Model SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Model -&gt; VerifierResult Model SolvingFailure
forall cex exception. cex -&gt; VerifierResult cex exception
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISVerifierFoundCex"><span class="hs-identifier hs-var">CEGISVerifierFoundCex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnySymbolSet -&gt; Model -&gt; Model
forall model symbolSet (typedSymbol :: * -&gt; *).
ModelOps model symbolSet typedSymbol =&gt;
symbolSet -&gt; model -&gt; model
</span><a href="Grisette.Internal.Core.Data.Class.ModelOps.html#exact"><span class="hs-identifier hs-var">exact</span></a></span><span> </span><span class="annot"><span class="annottext">AnySymbolSet
</span><a href="#local-6989586621682337604"><span class="hs-identifier hs-var">forallSymbols</span></a></span><span> </span><span class="annot"><span class="annottext">Model
</span><a href="#local-6989586621682337624"><span class="hs-identifier hs-var">model</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-707"></span><span>
</span><span id="line-708"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-709"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, with a forall variable.</span><span>
</span><span id="line-710"></span><span class="hs-comment">--</span><span>
</span><span id="line-711"></span><span class="hs-comment">-- See 'cegisForAllExcept', 'cegisForAll' and 'cegisExcept'.</span><span>
</span><span id="line-712"></span><span class="hs-comment">--</span><span>
</span><span id="line-713"></span><span class="hs-comment">-- The difference from 'cegisForAllExcept' is that this function accepts two</span><span>
</span><span id="line-714"></span><span class="hs-comment">-- solver handles, one for the synthesizer and one for the verifier.</span><span>
</span><span id="line-715"></span><span class="hs-comment">--</span><span>
</span><span id="line-716"></span><span class="hs-comment">-- The synthesizer solver will **not** be reset, while the verifier solver will</span><span>
</span><span id="line-717"></span><span class="hs-comment">-- be reset after each iteration.</span><span>
</span><span id="line-718"></span><span id="local-6989586621682336610"><span id="local-6989586621682336611"><span id="local-6989586621682336612"><span id="local-6989586621682336613"><span id="local-6989586621682336614"><span id="local-6989586621682336615"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAllExcept"><span class="hs-identifier hs-type">solverCegisForAllExcept</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-719"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336610"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336611"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336612"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336613"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-720"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336611"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-721"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621682336611"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-722"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336614"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-723"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336614"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-724"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier hs-type">Solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336615"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-725"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier hs-type">SymEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336614"><span class="hs-identifier hs-type">inputs</span></a></span><span>
</span><span id="line-726"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-727"></span><span>  </span><span class="annot"><a href="#local-6989586621682336615"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-728"></span><span>  </span><span class="annot"><a href="#local-6989586621682336615"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-729"></span><span>  </span><span class="annot"><a href="#local-6989586621682336614"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-730"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682336612"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336613"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-731"></span><span>  </span><span class="annot"><a href="#local-6989586621682336610"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-732"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Grisette.Internal.SymPrim.Prim.Model.html#Model"><span class="hs-identifier hs-type">Model</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-733"></span><span id="solverCegisForAllExcept"><span class="annot"><span class="annottext">solverCegisForAllExcept :: forall t (u :: * -&gt; *) e v inputs handle.
(UnionWithExcept t u e v, PlainUnion u, Functor u, EvalSym inputs,
 ExtractSym inputs, Solver handle, SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (Either e v -&gt; CEGISCondition)
-&gt; t
-&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAllExcept"><span class="hs-identifier hs-var hs-var">solverCegisForAllExcept</span></a></span></span><span> </span><span id="local-6989586621682337638"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337638"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span id="local-6989586621682337639"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337639"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span id="local-6989586621682337640"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337640"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621682337641"><span class="annot"><span class="annottext">Either e v -&gt; CEGISCondition
</span><a href="#local-6989586621682337641"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682337642"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682337642"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-734"></span><span>  </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; inputs
-&gt; CEGISCondition
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall forallInput handle.
(ExtractSym forallInput, Solver handle) =&gt;
handle
-&gt; handle
-&gt; forallInput
-&gt; CEGISCondition
-&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAll"><span class="hs-identifier hs-var">solverCegisForAll</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337638"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337639"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337640"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">(CEGISCondition -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; CEGISCondition -&gt; IO ([Model], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-735"></span><span>    </span><span class="annot"><span class="annottext">u CEGISCondition -&gt; CEGISCondition
forall (u :: * -&gt; *) a.
(SimpleMergeable a, PlainUnion u) =&gt;
u a -&gt; a
</span><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#simpleMerge"><span class="hs-identifier hs-var">simpleMerge</span></a></span><span> </span><span class="annot"><span class="annottext">(u CEGISCondition -&gt; CEGISCondition)
-&gt; u CEGISCondition -&gt; CEGISCondition
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-736"></span><span>      </span><span class="annot"><span class="annottext">Either e v -&gt; CEGISCondition
</span><a href="#local-6989586621682337641"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Either e v -&gt; CEGISCondition)
-&gt; u (Either e v) -&gt; u CEGISCondition
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; u (Either e v)
forall t (u :: * -&gt; *) e v.
UnionWithExcept t u e v =&gt;
t -&gt; u (Either e v)
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#extractUnionExcept"><span class="hs-identifier hs-var">extractUnionExcept</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682337642"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-737"></span><span>
</span><span id="line-738"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-739"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, with a forall variable.</span><span>
</span><span id="line-740"></span><span class="hs-comment">--</span><span>
</span><span id="line-741"></span><span class="hs-comment">-- See 'cegisForAllExceptVC' 'cegisForAll' and 'cegisExceptVC'.</span><span>
</span><span id="line-742"></span><span class="hs-comment">--</span><span>
</span><span id="line-743"></span><span class="hs-comment">-- The difference from 'cegisForAllExceptVC' is that this function accepts two</span><span>
</span><span id="line-744"></span><span class="hs-comment">-- solver handles, one for the synthesizer and one for the verifier.</span><span>
</span><span id="line-745"></span><span class="hs-comment">--</span><span>
</span><span id="line-746"></span><span class="hs-comment">-- The synthesizer solver will **not** be reset, while the verifier solver will</span><span>
</span><span id="line-747"></span><span class="hs-comment">-- be reset after each iteration.</span><span>
</span><span id="line-748"></span><span id="local-6989586621682336622"><span id="local-6989586621682336623"><span id="local-6989586621682336624"><span id="local-6989586621682336625"><span id="local-6989586621682336626"><span id="local-6989586621682336627"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAllExceptVC"><span class="hs-identifier hs-type">solverCegisForAllExceptVC</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-749"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336622"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336623"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336624"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336625"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-750"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336623"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-751"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682336623"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-752"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336626"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-753"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336626"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-754"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier hs-type">Solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336627"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-755"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier hs-type">SymEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336626"><span class="hs-identifier hs-type">inputs</span></a></span><span>
</span><span id="line-756"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-757"></span><span>  </span><span class="annot"><a href="#local-6989586621682336627"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-758"></span><span>  </span><span class="annot"><a href="#local-6989586621682336627"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-759"></span><span>  </span><span class="annot"><a href="#local-6989586621682336626"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-760"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682336624"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336625"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336623"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#VerificationConditions"><span class="hs-identifier hs-type">VerificationConditions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-761"></span><span>  </span><span class="annot"><a href="#local-6989586621682336622"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-762"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Grisette.Internal.SymPrim.Prim.Model.html#Model"><span class="hs-identifier hs-type">Model</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-763"></span><span id="solverCegisForAllExceptVC"><span class="annot"><span class="annottext">solverCegisForAllExceptVC :: forall t (u :: * -&gt; *) e v inputs handle.
(UnionWithExcept t u e v, PlainUnion u, Monad u, EvalSym inputs,
 ExtractSym inputs, Solver handle, SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; t
-&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAllExceptVC"><span class="hs-identifier hs-var hs-var">solverCegisForAllExceptVC</span></a></span></span><span> </span><span id="local-6989586621682337663"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337663"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span id="local-6989586621682337664"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337664"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span id="local-6989586621682337665"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337665"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621682337666"><span class="annot"><span class="annottext">Either e v -&gt; u (Either VerificationConditions ())
</span><a href="#local-6989586621682337666"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682337667"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682337667"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-764"></span><span>  </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; inputs
-&gt; CEGISCondition
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall forallInput handle.
(ExtractSym forallInput, Solver handle) =&gt;
handle
-&gt; handle
-&gt; forallInput
-&gt; CEGISCondition
-&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAll"><span class="hs-identifier hs-var">solverCegisForAll</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337663"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337664"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337665"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">(CEGISCondition -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; CEGISCondition -&gt; IO ([Model], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-765"></span><span>    </span><span class="annot"><span class="annottext">u CEGISCondition -&gt; CEGISCondition
forall (u :: * -&gt; *) a.
(SimpleMergeable a, PlainUnion u) =&gt;
u a -&gt; a
</span><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#simpleMerge"><span class="hs-identifier hs-var">simpleMerge</span></a></span><span> </span><span class="annot"><span class="annottext">(u CEGISCondition -&gt; CEGISCondition)
-&gt; u CEGISCondition -&gt; CEGISCondition
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-766"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-767"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><span class="annottext">VerificationConditions
</span><a href="Grisette.Internal.Core.Control.Exception.html#AssumptionViolation"><span class="hs-identifier hs-var">AssumptionViolation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; SymBool -&gt; CEGISCondition
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPrePost"><span class="hs-identifier hs-var">cegisPrePost</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SymBool
forall c t. Solvable c t =&gt; c -&gt; t
</span><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SymBool
forall c t. Solvable c t =&gt; c -&gt; t
</span><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-768"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><span class="annottext">VerificationConditions
</span><a href="Grisette.Internal.Core.Control.Exception.html#AssertionViolation"><span class="hs-identifier hs-var">AssertionViolation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; CEGISCondition
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPostCond"><span class="hs-identifier hs-var">cegisPostCond</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SymBool
forall c t. Solvable c t =&gt; c -&gt; t
</span><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-769"></span><span>          </span><span class="annot"><span class="annottext">Either VerificationConditions ()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SymBool -&gt; CEGISCondition
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisPostCond"><span class="hs-identifier hs-var">cegisPostCond</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SymBool
forall c t. Solvable c t =&gt; c -&gt; t
</span><a href="Grisette.Internal.Core.Data.Class.Solvable.html#con"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-770"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-771"></span><span>        </span><span class="annot"><span class="annottext">(Either VerificationConditions () -&gt; CEGISCondition)
-&gt; u (Either VerificationConditions ()) -&gt; u CEGISCondition
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; u (Either e v)
forall t (u :: * -&gt; *) e v.
UnionWithExcept t u e v =&gt;
t -&gt; u (Either e v)
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#extractUnionExcept"><span class="hs-identifier hs-var">extractUnionExcept</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682337667"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">u (Either e v)
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; u (Either VerificationConditions ())
forall a b. u a -&gt; (a -&gt; u b) -&gt; u b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Either e v -&gt; u (Either VerificationConditions ())
</span><a href="#local-6989586621682337666"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-772"></span><span>
</span><span id="line-773"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-774"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, with a forall variable.</span><span>
</span><span id="line-775"></span><span class="hs-comment">--</span><span>
</span><span id="line-776"></span><span class="hs-comment">-- See 'cegisForAllExceptStdVC' 'cegisForAll' and 'cegisExceptStdVC'.</span><span>
</span><span id="line-777"></span><span class="hs-comment">--</span><span>
</span><span id="line-778"></span><span class="hs-comment">-- The difference from 'cegisForAllExceptStdVC' is that this function accepts</span><span>
</span><span id="line-779"></span><span class="hs-comment">-- two solver handles, one for the synthesizer and one for the verifier.</span><span>
</span><span id="line-780"></span><span class="hs-comment">--</span><span>
</span><span id="line-781"></span><span class="hs-comment">-- The synthesizer solver will **not** be reset, while the verifier solver will</span><span>
</span><span id="line-782"></span><span class="hs-comment">-- be reset after each iteration.</span><span>
</span><span id="line-783"></span><span id="local-6989586621682336634"><span id="local-6989586621682336635"><span id="local-6989586621682336636"><span id="local-6989586621682336637"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAllExceptStdVC"><span class="hs-identifier hs-type">solverCegisForAllExceptStdVC</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-784"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336634"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336635"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#VerificationConditions"><span class="hs-identifier hs-type">VerificationConditions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-785"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336635"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-786"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682336635"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-787"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336636"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-788"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336636"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-789"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#Solver"><span class="hs-identifier hs-type">Solver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336637"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-790"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier hs-type">SymEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336636"><span class="hs-identifier hs-type">inputs</span></a></span><span>
</span><span id="line-791"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-792"></span><span>  </span><span class="annot"><a href="#local-6989586621682336637"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-793"></span><span>  </span><span class="annot"><a href="#local-6989586621682336637"><span class="hs-identifier hs-type">handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-794"></span><span>  </span><span class="annot"><a href="#local-6989586621682336636"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-795"></span><span>  </span><span class="annot"><a href="#local-6989586621682336634"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-796"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Grisette.Internal.SymPrim.Prim.Model.html#Model"><span class="hs-identifier hs-type">Model</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-797"></span><span id="solverCegisForAllExceptStdVC"><span class="annot"><span class="annottext">solverCegisForAllExceptStdVC :: forall t (u :: * -&gt; *) inputs handle.
(UnionWithExcept t u VerificationConditions (), PlainUnion u,
 Monad u, EvalSym inputs, ExtractSym inputs, Solver handle,
 SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; t
-&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAllExceptStdVC"><span class="hs-identifier hs-var hs-var">solverCegisForAllExceptStdVC</span></a></span></span><span> </span><span id="local-6989586621682337683"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337683"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span id="local-6989586621682337684"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337684"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span id="local-6989586621682337685"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337685"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-798"></span><span>  </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; inputs
-&gt; (Either VerificationConditions ()
    -&gt; u (Either VerificationConditions ()))
-&gt; t
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall t (u :: * -&gt; *) e v inputs handle.
(UnionWithExcept t u e v, PlainUnion u, Monad u, EvalSym inputs,
 ExtractSym inputs, Solver handle, SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; t
-&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAllExceptVC"><span class="hs-identifier hs-var">solverCegisForAllExceptVC</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337683"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337684"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337685"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">Either VerificationConditions ()
-&gt; u (Either VerificationConditions ())
forall a. a -&gt; u a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span>
</span><span id="line-799"></span><span>
</span><span id="line-800"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-801"></span><span class="hs-comment">-- CEGIS with multiple (possibly symbolic) inputs. Solves the following formula</span><span>
</span><span id="line-802"></span><span class="hs-comment">-- (see t'CEGISCondition' for details).</span><span>
</span><span id="line-803"></span><span class="hs-comment">--</span><span>
</span><span id="line-804"></span><span class="hs-comment">-- \[</span><span>
</span><span id="line-805"></span><span class="hs-comment">--   \forall P. (\exists I\in\mathrm{inputs}. \mathrm{pre}(P, I)) \wedge (\forall I\in\mathrm{inputs}. \mathrm{pre}(P, I)\implies \mathrm{post}(P, I))</span><span>
</span><span id="line-806"></span><span class="hs-comment">-- \]</span><span>
</span><span id="line-807"></span><span class="hs-comment">--</span><span>
</span><span id="line-808"></span><span class="hs-comment">-- For simpler queries, where the inputs are representable by a single</span><span>
</span><span id="line-809"></span><span class="hs-comment">-- symbolic value, you may want to use 'cegis' or 'cegisExcept' instead.</span><span>
</span><span id="line-810"></span><span class="hs-comment">-- We have an example for the 'cegis' call.</span><span>
</span><span id="line-811"></span><span id="local-6989586621682336642"><span id="local-6989586621682336643"><span id="local-6989586621682336644"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisMultiInputs"><span class="hs-identifier hs-type">cegisMultiInputs</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-812"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336642"><span class="hs-identifier hs-type">input</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-813"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336642"><span class="hs-identifier hs-type">input</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-814"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier hs-type">ConfigurableSolver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336643"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336644"><span class="hs-identifier hs-type">handle</span></a></span><span>
</span><span id="line-815"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-816"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The configuration of the solver</span></span><span>
</span><span id="line-817"></span><span>  </span><span class="annot"><a href="#local-6989586621682336643"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-818"></span><span>  </span><span class="hs-comment">-- | Initial symbolic inputs. The solver will try to find a</span><span>
</span><span id="line-819"></span><span>  </span><span class="hs-comment">-- program that works on all the inputs representable by these inputs (see</span><span>
</span><span id="line-820"></span><span>  </span><span class="hs-comment">-- t'CEGISCondition').</span><span>
</span><span id="line-821"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336642"><span class="hs-identifier hs-type">input</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-822"></span><span>  </span><span class="hs-comment">-- | The condition for the solver to solve. All the</span><span>
</span><span id="line-823"></span><span>  </span><span class="hs-comment">-- symbolic constants that are not in the inputs will</span><span>
</span><span id="line-824"></span><span>  </span><span class="hs-comment">-- be considered as part of the symbolic program.</span><span>
</span><span id="line-825"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336642"><span class="hs-identifier hs-type">input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-826"></span><span>  </span><span class="hs-comment">-- | The counter-examples generated</span><span>
</span><span id="line-827"></span><span>  </span><span class="hs-comment">-- during the CEGIS loop, and the</span><span>
</span><span id="line-828"></span><span>  </span><span class="hs-comment">-- model found by the solver.</span><span>
</span><span id="line-829"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336642"><span class="hs-identifier hs-type">input</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-830"></span><span id="cegisMultiInputs"><span class="annot"><span class="annottext">cegisMultiInputs :: forall input config handle.
(EvalSym input, ExtractSym input,
 ConfigurableSolver config handle) =&gt;
config
-&gt; [input]
-&gt; (input -&gt; CEGISCondition)
-&gt; IO ([input], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisMultiInputs"><span class="hs-identifier hs-var hs-var">cegisMultiInputs</span></a></span></span><span> </span><span id="local-6989586621682337695"><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337695"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621682337696"><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337696"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621682337697"><span class="annot"><span class="annottext">input -&gt; CEGISCondition
</span><a href="#local-6989586621682337697"><span class="hs-identifier hs-var">toCEGISCondition</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-831"></span><span>  </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([input], CEGISResult SolvingFailure))
-&gt; IO ([input], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337695"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([input], CEGISResult SolvingFailure))
 -&gt; IO ([input], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([input], CEGISResult SolvingFailure))
-&gt; IO ([input], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337698"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337698"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-832"></span><span>    </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([input], CEGISResult SolvingFailure))
-&gt; IO ([input], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337695"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([input], CEGISResult SolvingFailure))
 -&gt; IO ([input], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([input], CEGISResult SolvingFailure))
-&gt; IO ([input], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337699"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337699"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-833"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; [input]
-&gt; (input -&gt; CEGISCondition)
-&gt; IO ([input], CEGISResult SolvingFailure)
forall input handle.
(EvalSym input, ExtractSym input, Solver handle) =&gt;
handle
-&gt; handle
-&gt; [input]
-&gt; (input -&gt; CEGISCondition)
-&gt; IO ([input], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisMultiInputs"><span class="hs-identifier hs-var">solverCegisMultiInputs</span></a></span><span>
</span><span id="line-834"></span><span>        </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337698"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span>
</span><span id="line-835"></span><span>        </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337699"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span>
</span><span id="line-836"></span><span>        </span><span class="annot"><span class="annottext">[input]
</span><a href="#local-6989586621682337696"><span class="hs-identifier hs-var">inputs</span></a></span><span>
</span><span id="line-837"></span><span>        </span><span class="annot"><span class="annottext">input -&gt; CEGISCondition
</span><a href="#local-6989586621682337697"><span class="hs-identifier hs-var">toCEGISCondition</span></a></span><span>
</span><span id="line-838"></span><span>
</span><span id="line-839"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-840"></span><span class="hs-comment">-- CEGIS with a single symbolic input to represent a set of inputs.</span><span>
</span><span id="line-841"></span><span class="hs-comment">--</span><span>
</span><span id="line-842"></span><span class="hs-comment">-- The following example tries to find the value of @c@ such that for all</span><span>
</span><span id="line-843"></span><span class="hs-comment">-- positive @x@, @x * c &lt; 0 &amp;&amp; c &gt; -2@. The @c .&gt; -2@ clause is used to make</span><span>
</span><span id="line-844"></span><span class="hs-comment">-- the solution unique.</span><span>
</span><span id="line-845"></span><span class="hs-comment">--</span><span>
</span><span id="line-846"></span><span class="hs-comment">-- &gt;&gt;&gt; let [x,c] = [&quot;x&quot;,&quot;c&quot;] :: [SymInteger]</span><span>
</span><span id="line-847"></span><span class="hs-comment">-- &gt;&gt;&gt; cegis z3 x (\x -&gt; cegisPrePost (x .&gt; 0) (x * c .&lt; 0 .&amp;&amp; c .&gt; -2))</span><span>
</span><span id="line-848"></span><span class="hs-comment">-- (...,CEGISSuccess (Model {c -&gt; -1 :: Integer}))</span><span>
</span><span id="line-849"></span><span id="local-6989586621682336648"><span id="local-6989586621682336649"><span id="local-6989586621682336650"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegis"><span class="hs-identifier hs-type">cegis</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-850"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier hs-type">ConfigurableSolver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336648"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336649"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-851"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336650"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-852"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336650"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-853"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier hs-type">SymEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336650"><span class="hs-identifier hs-type">inputs</span></a></span><span>
</span><span id="line-854"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-855"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The configuration of the solver</span></span><span>
</span><span id="line-856"></span><span>  </span><span class="annot"><a href="#local-6989586621682336648"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-857"></span><span>  </span><span class="hs-comment">-- | Initial symbolic inputs. The solver will try to find a</span><span>
</span><span id="line-858"></span><span>  </span><span class="hs-comment">-- program that works on all the inputs representable by it (see</span><span>
</span><span id="line-859"></span><span>  </span><span class="hs-comment">-- t'CEGISCondition').</span><span>
</span><span id="line-860"></span><span>  </span><span class="annot"><a href="#local-6989586621682336650"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-861"></span><span>  </span><span class="hs-comment">-- | The condition for the solver to solve. All the</span><span>
</span><span id="line-862"></span><span>  </span><span class="hs-comment">-- symbolic constants that are not in the inputs will</span><span>
</span><span id="line-863"></span><span>  </span><span class="hs-comment">-- be considered as part of the symbolic program.</span><span>
</span><span id="line-864"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336650"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-865"></span><span>  </span><span class="hs-comment">-- | The counter-examples generated</span><span>
</span><span id="line-866"></span><span>  </span><span class="hs-comment">-- during the CEGIS loop, and the</span><span>
</span><span id="line-867"></span><span>  </span><span class="hs-comment">-- model found by the solver.</span><span>
</span><span id="line-868"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336650"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-869"></span><span id="cegis"><span class="annot"><span class="annottext">cegis :: forall config handle inputs.
(ConfigurableSolver config handle, EvalSym inputs,
 ExtractSym inputs, SymEq inputs) =&gt;
config
-&gt; inputs
-&gt; (inputs -&gt; CEGISCondition)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegis"><span class="hs-identifier hs-var hs-var">cegis</span></a></span></span><span> </span><span id="local-6989586621682337711"><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337711"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621682337712"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337712"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621682337713"><span class="annot"><span class="annottext">inputs -&gt; CEGISCondition
</span><a href="#local-6989586621682337713"><span class="hs-identifier hs-var">condition</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-870"></span><span>  </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337711"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337714"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337714"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-871"></span><span>    </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337711"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337715"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337715"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-872"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; inputs
-&gt; (inputs -&gt; CEGISCondition)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall handle inputs.
(Solver handle, EvalSym inputs, ExtractSym inputs, SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (inputs -&gt; CEGISCondition)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegis"><span class="hs-identifier hs-var">solverCegis</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337714"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337715"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337712"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">inputs -&gt; CEGISCondition
</span><a href="#local-6989586621682337713"><span class="hs-identifier hs-var">condition</span></a></span><span>
</span><span id="line-873"></span><span>
</span><span id="line-874"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-875"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, using multiple (possibly</span><span>
</span><span id="line-876"></span><span class="hs-comment">-- symbolic) inputs to represent a set of inputs.</span><span>
</span><span id="line-877"></span><span id="local-6989586621682336654"><span id="local-6989586621682336655"><span id="local-6989586621682336656"><span id="local-6989586621682336657"><span id="local-6989586621682336658"><span id="local-6989586621682336659"><span id="local-6989586621682336660"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptMultiInputs"><span class="hs-identifier hs-type">cegisExceptMultiInputs</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-878"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier hs-type">ConfigurableSolver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336654"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336655"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-879"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336656"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-880"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336656"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-881"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336657"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336658"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336659"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336660"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-882"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336658"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-883"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682336658"><span class="hs-identifier hs-type">u</span></a></span><span>
</span><span id="line-884"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-885"></span><span>  </span><span class="annot"><a href="#local-6989586621682336654"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-886"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336656"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-887"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682336659"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336660"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-888"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336656"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336657"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-889"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336656"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-890"></span><span id="cegisExceptMultiInputs"><span class="annot"><span class="annottext">cegisExceptMultiInputs :: forall config handle inputs t (u :: * -&gt; *) e v.
(ConfigurableSolver config handle, EvalSym inputs,
 ExtractSym inputs, UnionWithExcept t u e v, PlainUnion u,
 Monad u) =&gt;
config
-&gt; [inputs]
-&gt; (Either e v -&gt; CEGISCondition)
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptMultiInputs"><span class="hs-identifier hs-var hs-var">cegisExceptMultiInputs</span></a></span></span><span> </span><span id="local-6989586621682337731"><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337731"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621682337732"><span class="annot"><span class="annottext">[inputs]
</span><a href="#local-6989586621682337732"><span class="hs-identifier hs-var">cexes</span></a></span></span><span> </span><span id="local-6989586621682337733"><span class="annot"><span class="annottext">Either e v -&gt; CEGISCondition
</span><a href="#local-6989586621682337733"><span class="hs-identifier hs-var">interpretFun</span></a></span></span><span> </span><span id="local-6989586621682337734"><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337734"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-891"></span><span>  </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337731"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337735"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337735"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-892"></span><span>    </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337731"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337736"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337736"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-893"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; [inputs]
-&gt; (Either e v -&gt; CEGISCondition)
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall handle inputs t (u :: * -&gt; *) e v.
(Solver handle, EvalSym inputs, ExtractSym inputs,
 UnionWithExcept t u e v, PlainUnion u, Monad u) =&gt;
handle
-&gt; handle
-&gt; [inputs]
-&gt; (Either e v -&gt; CEGISCondition)
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptMultiInputs"><span class="hs-identifier hs-var">solverCegisExceptMultiInputs</span></a></span><span>
</span><span id="line-894"></span><span>        </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337735"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span>
</span><span id="line-895"></span><span>        </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337736"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span>
</span><span id="line-896"></span><span>        </span><span class="annot"><span class="annottext">[inputs]
</span><a href="#local-6989586621682337732"><span class="hs-identifier hs-var">cexes</span></a></span><span>
</span><span id="line-897"></span><span>        </span><span class="annot"><span class="annottext">Either e v -&gt; CEGISCondition
</span><a href="#local-6989586621682337733"><span class="hs-identifier hs-var">interpretFun</span></a></span><span>
</span><span id="line-898"></span><span>        </span><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337734"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-899"></span><span>
</span><span id="line-900"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-901"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, using multiple (possibly</span><span>
</span><span id="line-902"></span><span class="hs-comment">-- symbolic) inputs to represent a set of inputs.</span><span>
</span><span id="line-903"></span><span class="hs-comment">--</span><span>
</span><span id="line-904"></span><span class="hs-comment">-- The errors should be translated to assertion or assumption violations.</span><span>
</span><span id="line-905"></span><span id="local-6989586621682336668"><span id="local-6989586621682336669"><span id="local-6989586621682336670"><span id="local-6989586621682336671"><span id="local-6989586621682336672"><span id="local-6989586621682336673"><span id="local-6989586621682336674"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptVCMultiInputs"><span class="hs-identifier hs-type">cegisExceptVCMultiInputs</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-906"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier hs-type">ConfigurableSolver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336668"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336669"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-907"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336670"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-908"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336670"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-909"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336671"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336672"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336673"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336674"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-910"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336672"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-911"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682336672"><span class="hs-identifier hs-type">u</span></a></span><span>
</span><span id="line-912"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-913"></span><span>  </span><span class="annot"><a href="#local-6989586621682336668"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-914"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336670"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-915"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682336673"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336674"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336672"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#VerificationConditions"><span class="hs-identifier hs-type">VerificationConditions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-916"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336670"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336671"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-917"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336670"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-918"></span><span id="cegisExceptVCMultiInputs"><span class="annot"><span class="annottext">cegisExceptVCMultiInputs :: forall config handle inputs t (u :: * -&gt; *) e v.
(ConfigurableSolver config handle, EvalSym inputs,
 ExtractSym inputs, UnionWithExcept t u e v, PlainUnion u,
 Monad u) =&gt;
config
-&gt; [inputs]
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptVCMultiInputs"><span class="hs-identifier hs-var hs-var">cegisExceptVCMultiInputs</span></a></span></span><span> </span><span id="local-6989586621682337752"><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337752"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621682337753"><span class="annot"><span class="annottext">[inputs]
</span><a href="#local-6989586621682337753"><span class="hs-identifier hs-var">cexes</span></a></span></span><span> </span><span id="local-6989586621682337754"><span class="annot"><span class="annottext">Either e v -&gt; u (Either VerificationConditions ())
</span><a href="#local-6989586621682337754"><span class="hs-identifier hs-var">interpretFun</span></a></span></span><span> </span><span id="local-6989586621682337755"><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337755"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-919"></span><span>  </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337752"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337756"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337756"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-920"></span><span>    </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337752"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337757"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337757"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-921"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; [inputs]
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall handle inputs t (u :: * -&gt; *) e v.
(Solver handle, EvalSym inputs, ExtractSym inputs,
 UnionWithExcept t u e v, PlainUnion u, Monad u) =&gt;
handle
-&gt; handle
-&gt; [inputs]
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptVCMultiInputs"><span class="hs-identifier hs-var">solverCegisExceptVCMultiInputs</span></a></span><span>
</span><span id="line-922"></span><span>        </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337756"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span>
</span><span id="line-923"></span><span>        </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337757"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span>
</span><span id="line-924"></span><span>        </span><span class="annot"><span class="annottext">[inputs]
</span><a href="#local-6989586621682337753"><span class="hs-identifier hs-var">cexes</span></a></span><span>
</span><span id="line-925"></span><span>        </span><span class="annot"><span class="annottext">Either e v -&gt; u (Either VerificationConditions ())
</span><a href="#local-6989586621682337754"><span class="hs-identifier hs-var">interpretFun</span></a></span><span>
</span><span id="line-926"></span><span>        </span><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337755"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-927"></span><span>
</span><span id="line-928"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-929"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, using multiple (possibly</span><span>
</span><span id="line-930"></span><span class="hs-comment">-- symbolic) inputs to represent a set of inputs. This function saves the</span><span>
</span><span id="line-931"></span><span class="hs-comment">-- efforts to implement the translation function for the standard error type</span><span>
</span><span id="line-932"></span><span class="hs-comment">-- 'VerificationConditions', and the standard result type @()@.</span><span>
</span><span id="line-933"></span><span class="hs-comment">--</span><span>
</span><span id="line-934"></span><span class="hs-comment">-- This function translates assumption violations to failed pre-conditions,</span><span>
</span><span id="line-935"></span><span class="hs-comment">-- and translates assertion violations to failed post-conditions.</span><span>
</span><span id="line-936"></span><span class="hs-comment">-- The @()@ result will not fail any conditions.</span><span>
</span><span id="line-937"></span><span id="local-6989586621682336682"><span id="local-6989586621682336683"><span id="local-6989586621682336684"><span id="local-6989586621682336685"><span id="local-6989586621682336686"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptStdVCMultiInputs"><span class="hs-identifier hs-type">cegisExceptStdVCMultiInputs</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-938"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier hs-type">ConfigurableSolver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336682"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336683"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-939"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336684"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-940"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336684"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-941"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336685"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336686"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#VerificationConditions"><span class="hs-identifier hs-type">VerificationConditions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-942"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336686"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-943"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682336686"><span class="hs-identifier hs-type">u</span></a></span><span>
</span><span id="line-944"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-945"></span><span>  </span><span class="annot"><a href="#local-6989586621682336682"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-946"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336684"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-947"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336684"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336685"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-948"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336684"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-949"></span><span id="cegisExceptStdVCMultiInputs"><span class="annot"><span class="annottext">cegisExceptStdVCMultiInputs :: forall config handle inputs t (u :: * -&gt; *).
(ConfigurableSolver config handle, EvalSym inputs,
 ExtractSym inputs, UnionWithExcept t u VerificationConditions (),
 PlainUnion u, Monad u) =&gt;
config
-&gt; [inputs]
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptStdVCMultiInputs"><span class="hs-identifier hs-var hs-var">cegisExceptStdVCMultiInputs</span></a></span></span><span> </span><span id="local-6989586621682337773"><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337773"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621682337774"><span class="annot"><span class="annottext">[inputs]
</span><a href="#local-6989586621682337774"><span class="hs-identifier hs-var">cexes</span></a></span></span><span> </span><span id="local-6989586621682337775"><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337775"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-950"></span><span>  </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337773"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337776"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337776"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-951"></span><span>    </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337773"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337777"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337777"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-952"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; [inputs]
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall handle inputs t (u :: * -&gt; *).
(Solver handle, EvalSym inputs, ExtractSym inputs,
 UnionWithExcept t u VerificationConditions (), PlainUnion u,
 Monad u) =&gt;
handle
-&gt; handle
-&gt; [inputs]
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptStdVCMultiInputs"><span class="hs-identifier hs-var">solverCegisExceptStdVCMultiInputs</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337776"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337777"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">[inputs]
</span><a href="#local-6989586621682337774"><span class="hs-identifier hs-var">cexes</span></a></span><span> </span><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337775"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-953"></span><span>
</span><span id="line-954"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-955"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, using a single symbolic</span><span>
</span><span id="line-956"></span><span class="hs-comment">-- input to represent a set of inputs.</span><span>
</span><span id="line-957"></span><span class="hs-comment">--</span><span>
</span><span id="line-958"></span><span class="hs-comment">-- 'cegisExcept' is particularly useful when custom error types are used.</span><span>
</span><span id="line-959"></span><span class="hs-comment">-- With 'cegisExcept', you define how the errors are interpreted to the</span><span>
</span><span id="line-960"></span><span class="hs-comment">-- CEGIS conditions after the symbolic evaluation. This could increase the</span><span>
</span><span id="line-961"></span><span class="hs-comment">-- readability and modularity of the code.</span><span>
</span><span id="line-962"></span><span class="hs-comment">--</span><span>
</span><span id="line-963"></span><span class="hs-comment">-- The following example tries to find the value of @c@ such that for all</span><span>
</span><span id="line-964"></span><span class="hs-comment">-- positive @x@, @x * c &lt; 0 &amp;&amp; c &gt; -2@. The @c .&gt; -2@ assertion is used to make</span><span>
</span><span id="line-965"></span><span class="hs-comment">-- the solution unique.</span><span>
</span><span id="line-966"></span><span class="hs-comment">--</span><span>
</span><span id="line-967"></span><span class="hs-comment">-- &gt;&gt;&gt; let [x,c] = [&quot;x&quot;,&quot;c&quot;] :: [SymInteger]</span><span>
</span><span id="line-968"></span><span class="hs-comment">-- &gt;&gt;&gt; import Control.Monad.Except</span><span>
</span><span id="line-969"></span><span class="hs-comment">-- &gt;&gt;&gt; :{</span><span>
</span><span id="line-970"></span><span class="hs-comment">--   res :: SymInteger -&gt; ExceptT VerificationConditions Union ()</span><span>
</span><span id="line-971"></span><span class="hs-comment">--   res x = do</span><span>
</span><span id="line-972"></span><span class="hs-comment">--     symAssume $ x .&gt; 0</span><span>
</span><span id="line-973"></span><span class="hs-comment">--     symAssert $ x * c .&lt; 0</span><span>
</span><span id="line-974"></span><span class="hs-comment">--     symAssert $ c .&gt; -2</span><span>
</span><span id="line-975"></span><span class="hs-comment">-- :}</span><span>
</span><span id="line-976"></span><span class="hs-comment">--</span><span>
</span><span id="line-977"></span><span class="hs-comment">-- &gt;&gt;&gt; :{</span><span>
</span><span id="line-978"></span><span class="hs-comment">--   translation (Left AssumptionViolation) = cegisPrePost (con False) (con True)</span><span>
</span><span id="line-979"></span><span class="hs-comment">--   translation (Left AssertionViolation) = cegisPostCond (con False)</span><span>
</span><span id="line-980"></span><span class="hs-comment">--   translation _ = cegisPostCond (con True)</span><span>
</span><span id="line-981"></span><span class="hs-comment">-- :}</span><span>
</span><span id="line-982"></span><span class="hs-comment">--</span><span>
</span><span id="line-983"></span><span class="hs-comment">-- &gt;&gt;&gt; cegisExcept z3 x translation res</span><span>
</span><span id="line-984"></span><span class="hs-comment">-- ([...],CEGISSuccess (Model {c -&gt; -1 :: Integer}))</span><span>
</span><span id="line-985"></span><span id="local-6989586621682336692"><span id="local-6989586621682336693"><span id="local-6989586621682336694"><span id="local-6989586621682336695"><span id="local-6989586621682336696"><span id="local-6989586621682336697"><span id="local-6989586621682336698"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExcept"><span class="hs-identifier hs-type">cegisExcept</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-986"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336692"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336693"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336694"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336695"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-987"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336693"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-988"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621682336693"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-989"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336696"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-990"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336696"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-991"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier hs-type">ConfigurableSolver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336697"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336698"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-992"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier hs-type">SymEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336696"><span class="hs-identifier hs-type">inputs</span></a></span><span>
</span><span id="line-993"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-994"></span><span>  </span><span class="annot"><a href="#local-6989586621682336697"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-995"></span><span>  </span><span class="annot"><a href="#local-6989586621682336696"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-996"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682336694"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336695"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-997"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336696"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336692"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-998"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336696"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-999"></span><span id="cegisExcept"><span class="annot"><span class="annottext">cegisExcept :: forall t (u :: * -&gt; *) e v inputs config handle.
(UnionWithExcept t u e v, PlainUnion u, Functor u, EvalSym inputs,
 ExtractSym inputs, ConfigurableSolver config handle,
 SymEq inputs) =&gt;
config
-&gt; inputs
-&gt; (Either e v -&gt; CEGISCondition)
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExcept"><span class="hs-identifier hs-var hs-var">cegisExcept</span></a></span></span><span> </span><span id="local-6989586621682337795"><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337795"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621682337796"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337796"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621682337797"><span class="annot"><span class="annottext">Either e v -&gt; CEGISCondition
</span><a href="#local-6989586621682337797"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682337798"><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337798"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1000"></span><span>  </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337795"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337799"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337799"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1001"></span><span>    </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337795"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337800"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337800"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1002"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; inputs
-&gt; (Either e v -&gt; CEGISCondition)
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall t (u :: * -&gt; *) e v inputs handle.
(UnionWithExcept t u e v, PlainUnion u, Functor u, EvalSym inputs,
 ExtractSym inputs, Solver handle, SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (Either e v -&gt; CEGISCondition)
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExcept"><span class="hs-identifier hs-var">solverCegisExcept</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337799"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337800"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337796"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">Either e v -&gt; CEGISCondition
</span><a href="#local-6989586621682337797"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337798"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1003"></span><span>
</span><span id="line-1004"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-1005"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, using a single symbolic</span><span>
</span><span id="line-1006"></span><span class="hs-comment">-- input to represent a set of inputs.</span><span>
</span><span id="line-1007"></span><span class="hs-comment">--</span><span>
</span><span id="line-1008"></span><span class="hs-comment">-- The errors should be translated to assertion or assumption violations.</span><span>
</span><span id="line-1009"></span><span id="local-6989586621682336706"><span id="local-6989586621682336707"><span id="local-6989586621682336708"><span id="local-6989586621682336709"><span id="local-6989586621682336710"><span id="local-6989586621682336711"><span id="local-6989586621682336712"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptVC"><span class="hs-identifier hs-type">cegisExceptVC</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1010"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336706"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336707"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336708"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336709"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1011"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336707"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1012"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682336707"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1013"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336710"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1014"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336710"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1015"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier hs-type">ConfigurableSolver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336711"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336712"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1016"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier hs-type">SymEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336710"><span class="hs-identifier hs-type">inputs</span></a></span><span>
</span><span id="line-1017"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1018"></span><span>  </span><span class="annot"><a href="#local-6989586621682336711"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1019"></span><span>  </span><span class="annot"><a href="#local-6989586621682336710"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1020"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682336708"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336709"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336707"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#VerificationConditions"><span class="hs-identifier hs-type">VerificationConditions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1021"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336710"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336706"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1022"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336710"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-1023"></span><span id="cegisExceptVC"><span class="annot"><span class="annottext">cegisExceptVC :: forall t (u :: * -&gt; *) e v inputs config handle.
(UnionWithExcept t u e v, PlainUnion u, Monad u, EvalSym inputs,
 ExtractSym inputs, ConfigurableSolver config handle,
 SymEq inputs) =&gt;
config
-&gt; inputs
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptVC"><span class="hs-identifier hs-var hs-var">cegisExceptVC</span></a></span></span><span> </span><span id="local-6989586621682337818"><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337818"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621682337819"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337819"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621682337820"><span class="annot"><span class="annottext">Either e v -&gt; u (Either VerificationConditions ())
</span><a href="#local-6989586621682337820"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682337821"><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337821"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1024"></span><span>  </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337818"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337822"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337822"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1025"></span><span>    </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337818"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337823"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337823"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1026"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; inputs
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall t (u :: * -&gt; *) e v inputs handle.
(UnionWithExcept t u e v, PlainUnion u, Monad u, EvalSym inputs,
 ExtractSym inputs, Solver handle, SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptVC"><span class="hs-identifier hs-var">solverCegisExceptVC</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337822"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337823"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337819"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">Either e v -&gt; u (Either VerificationConditions ())
</span><a href="#local-6989586621682337820"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337821"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1027"></span><span>
</span><span id="line-1028"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-1029"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, using a single symbolic</span><span>
</span><span id="line-1030"></span><span class="hs-comment">-- input to represent a set of inputs. This function saves the efforts to</span><span>
</span><span id="line-1031"></span><span class="hs-comment">-- implement the translation function for the standard error type</span><span>
</span><span id="line-1032"></span><span class="hs-comment">-- 'VerificationConditions', and the standard result type @()@.</span><span>
</span><span id="line-1033"></span><span class="hs-comment">--</span><span>
</span><span id="line-1034"></span><span class="hs-comment">-- This function translates assumption violations to failed pre-conditions,</span><span>
</span><span id="line-1035"></span><span class="hs-comment">-- and translates assertion violations to failed post-conditions.</span><span>
</span><span id="line-1036"></span><span class="hs-comment">-- The @()@ result will not fail any conditions.</span><span>
</span><span id="line-1037"></span><span class="hs-comment">--</span><span>
</span><span id="line-1038"></span><span class="hs-comment">-- The following example tries to find the value of @c@ such that for all</span><span>
</span><span id="line-1039"></span><span class="hs-comment">-- positive @x@, @x * c &lt; 0 &amp;&amp; c &gt; -2@. The @c .&gt; -2@ assertion is used to make</span><span>
</span><span id="line-1040"></span><span class="hs-comment">-- the solution unique.</span><span>
</span><span id="line-1041"></span><span class="hs-comment">--</span><span>
</span><span id="line-1042"></span><span class="hs-comment">-- &gt;&gt;&gt; let [x,c] = [&quot;x&quot;,&quot;c&quot;] :: [SymInteger]</span><span>
</span><span id="line-1043"></span><span class="hs-comment">-- &gt;&gt;&gt; import Control.Monad.Except</span><span>
</span><span id="line-1044"></span><span class="hs-comment">-- &gt;&gt;&gt; :{</span><span>
</span><span id="line-1045"></span><span class="hs-comment">--   res :: SymInteger -&gt; ExceptT VerificationConditions Union ()</span><span>
</span><span id="line-1046"></span><span class="hs-comment">--   res x = do</span><span>
</span><span id="line-1047"></span><span class="hs-comment">--     symAssume $ x .&gt; 0</span><span>
</span><span id="line-1048"></span><span class="hs-comment">--     symAssert $ x * c .&lt; 0</span><span>
</span><span id="line-1049"></span><span class="hs-comment">--     symAssert $ c .&gt; -2</span><span>
</span><span id="line-1050"></span><span class="hs-comment">-- :}</span><span>
</span><span id="line-1051"></span><span class="hs-comment">--</span><span>
</span><span id="line-1052"></span><span class="hs-comment">-- &gt;&gt;&gt; cegisExceptStdVC z3 x res</span><span>
</span><span id="line-1053"></span><span class="hs-comment">-- ([...],CEGISSuccess (Model {c -&gt; -1 :: Integer}))</span><span>
</span><span id="line-1054"></span><span id="local-6989586621682336720"><span id="local-6989586621682336721"><span id="local-6989586621682336722"><span id="local-6989586621682336723"><span id="local-6989586621682336724"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptStdVC"><span class="hs-identifier hs-type">cegisExceptStdVC</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1055"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336720"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336721"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#VerificationConditions"><span class="hs-identifier hs-type">VerificationConditions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-1056"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336721"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1057"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682336721"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1058"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336722"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1059"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336722"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1060"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier hs-type">ConfigurableSolver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336723"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336724"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1061"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier hs-type">SymEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336722"><span class="hs-identifier hs-type">inputs</span></a></span><span>
</span><span id="line-1062"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1063"></span><span>  </span><span class="annot"><a href="#local-6989586621682336723"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1064"></span><span>  </span><span class="annot"><a href="#local-6989586621682336722"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1065"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682336722"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336720"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1066"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682336722"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-1067"></span><span id="cegisExceptStdVC"><span class="annot"><span class="annottext">cegisExceptStdVC :: forall t (u :: * -&gt; *) inputs config handle.
(UnionWithExcept t u VerificationConditions (), PlainUnion u,
 Monad u, EvalSym inputs, ExtractSym inputs,
 ConfigurableSolver config handle, SymEq inputs) =&gt;
config
-&gt; inputs
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisExceptStdVC"><span class="hs-identifier hs-var hs-var">cegisExceptStdVC</span></a></span></span><span> </span><span id="local-6989586621682337841"><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337841"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621682337842"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337842"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621682337843"><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337843"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1068"></span><span>  </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337841"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337844"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337844"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1069"></span><span>    </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337841"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
 -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([inputs], CEGISResult SolvingFailure))
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337845"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337845"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1070"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; inputs
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
forall t (u :: * -&gt; *) inputs handle.
(UnionWithExcept t u VerificationConditions (), PlainUnion u,
 Monad u, EvalSym inputs, ExtractSym inputs, Solver handle,
 SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (inputs -&gt; t)
-&gt; IO ([inputs], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisExceptStdVC"><span class="hs-identifier hs-var">solverCegisExceptStdVC</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337844"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337845"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337842"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">inputs -&gt; t
</span><a href="#local-6989586621682337843"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-1071"></span><span>
</span><span id="line-1072"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-1073"></span><span class="hs-comment">-- CEGIS with a single symbolic input to represent a set of inputs.</span><span>
</span><span id="line-1074"></span><span class="hs-comment">--</span><span>
</span><span id="line-1075"></span><span class="hs-comment">-- The following example tries to find the value of @c@ such that for all</span><span>
</span><span id="line-1076"></span><span class="hs-comment">-- positive @x@, @x * c &lt; 0 &amp;&amp; c &gt; -2@. The @c .&gt; -2@ clause is used to make</span><span>
</span><span id="line-1077"></span><span class="hs-comment">-- the solution unique.</span><span>
</span><span id="line-1078"></span><span class="hs-comment">--</span><span>
</span><span id="line-1079"></span><span class="hs-comment">-- &gt;&gt;&gt; let [x,c] = [&quot;x&quot;,&quot;c&quot;] :: [SymInteger]</span><span>
</span><span id="line-1080"></span><span class="hs-comment">-- &gt;&gt;&gt; cegisForAll z3 x $ cegisPrePost (x .&gt; 0) (x * c .&lt; 0 .&amp;&amp; c .&gt; -2)</span><span>
</span><span id="line-1081"></span><span class="hs-comment">-- (...,CEGISSuccess (Model {c -&gt; -1 :: Integer}))</span><span>
</span><span id="line-1082"></span><span id="local-6989586621682336730"><span id="local-6989586621682336731"><span id="local-6989586621682336732"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisForAll"><span class="hs-identifier hs-type">cegisForAll</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1083"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336730"><span class="hs-identifier hs-type">forallInput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1084"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier hs-type">ConfigurableSolver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336731"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336732"><span class="hs-identifier hs-type">handle</span></a></span><span>
</span><span id="line-1085"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1086"></span><span>  </span><span class="annot"><a href="#local-6989586621682336731"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1087"></span><span>  </span><span class="hs-comment">-- | A symbolic value. All the symbolic constants in the value are treated as</span><span>
</span><span id="line-1088"></span><span>  </span><span class="hs-comment">-- for-all variables.</span><span>
</span><span id="line-1089"></span><span>  </span><span class="annot"><a href="#local-6989586621682336730"><span class="hs-identifier hs-type">forallInput</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1090"></span><span>  </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1091"></span><span>  </span><span class="hs-comment">-- | First output are the counter-examples for all the for-all variables, and</span><span>
</span><span id="line-1092"></span><span>  </span><span class="hs-comment">-- the second output is the model for all other variables if CEGIS succeeds.</span><span>
</span><span id="line-1093"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Grisette.Internal.SymPrim.Prim.Model.html#Model"><span class="hs-identifier hs-type">Model</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1094"></span><span id="cegisForAll"><span class="annot"><span class="annottext">cegisForAll :: forall forallInput config handle.
(ExtractSym forallInput, ConfigurableSolver config handle) =&gt;
config
-&gt; forallInput
-&gt; CEGISCondition
-&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisForAll"><span class="hs-identifier hs-var hs-var">cegisForAll</span></a></span></span><span> </span><span id="local-6989586621682337853"><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337853"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621682337854"><span class="annot"><span class="annottext">forallInput
</span><a href="#local-6989586621682337854"><span class="hs-identifier hs-var">input</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span> </span><span id="local-6989586621682337855"><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337855"><span class="hs-identifier hs-var">pre</span></a></span></span><span> </span><span id="local-6989586621682337856"><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337856"><span class="hs-identifier hs-var">post</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1095"></span><span>  </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337853"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([Model], CEGISResult SolvingFailure))
 -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337857"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337857"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1096"></span><span>    </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337853"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([Model], CEGISResult SolvingFailure))
 -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337858"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337858"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1097"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; forallInput
-&gt; CEGISCondition
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall forallInput handle.
(ExtractSym forallInput, Solver handle) =&gt;
handle
-&gt; handle
-&gt; forallInput
-&gt; CEGISCondition
-&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAll"><span class="hs-identifier hs-var">solverCegisForAll</span></a></span><span>
</span><span id="line-1098"></span><span>        </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337857"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span>
</span><span id="line-1099"></span><span>        </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337858"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span>
</span><span id="line-1100"></span><span>        </span><span class="annot"><span class="annottext">forallInput
</span><a href="#local-6989586621682337854"><span class="hs-identifier hs-var">input</span></a></span><span>
</span><span id="line-1101"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymBool -&gt; SymBool -&gt; CEGISCondition
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-var">CEGISCondition</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337855"><span class="hs-identifier hs-var">pre</span></a></span><span> </span><span class="annot"><span class="annottext">SymBool
</span><a href="#local-6989586621682337856"><span class="hs-identifier hs-var">post</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1102"></span><span>
</span><span id="line-1103"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-1104"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, with a forall variable.</span><span>
</span><span id="line-1105"></span><span class="hs-comment">--</span><span>
</span><span id="line-1106"></span><span class="hs-comment">-- See 'cegisForAll' and 'cegisExcept'.</span><span>
</span><span id="line-1107"></span><span id="local-6989586621682336736"><span id="local-6989586621682336737"><span id="local-6989586621682336738"><span id="local-6989586621682336739"><span id="local-6989586621682336740"><span id="local-6989586621682336741"><span id="local-6989586621682336742"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisForAllExcept"><span class="hs-identifier hs-type">cegisForAllExcept</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1108"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336736"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336737"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336738"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336739"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1109"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336737"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1110"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621682336737"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1111"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336740"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1112"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336740"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1113"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier hs-type">ConfigurableSolver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336741"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336742"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1114"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier hs-type">SymEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336740"><span class="hs-identifier hs-type">inputs</span></a></span><span>
</span><span id="line-1115"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1116"></span><span>  </span><span class="annot"><a href="#local-6989586621682336741"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1117"></span><span>  </span><span class="annot"><a href="#local-6989586621682336740"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1118"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682336738"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336739"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISCondition"><span class="hs-identifier hs-type">CEGISCondition</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1119"></span><span>  </span><span class="annot"><a href="#local-6989586621682336736"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1120"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Grisette.Internal.SymPrim.Prim.Model.html#Model"><span class="hs-identifier hs-type">Model</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-1121"></span><span id="cegisForAllExcept"><span class="annot"><span class="annottext">cegisForAllExcept :: forall t (u :: * -&gt; *) e v inputs config handle.
(UnionWithExcept t u e v, PlainUnion u, Functor u, EvalSym inputs,
 ExtractSym inputs, ConfigurableSolver config handle,
 SymEq inputs) =&gt;
config
-&gt; inputs
-&gt; (Either e v -&gt; CEGISCondition)
-&gt; t
-&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisForAllExcept"><span class="hs-identifier hs-var hs-var">cegisForAllExcept</span></a></span></span><span> </span><span id="local-6989586621682337876"><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337876"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621682337877"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337877"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621682337878"><span class="annot"><span class="annottext">Either e v -&gt; CEGISCondition
</span><a href="#local-6989586621682337878"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682337879"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682337879"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1122"></span><span>  </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337876"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([Model], CEGISResult SolvingFailure))
 -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337880"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337880"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1123"></span><span>    </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337876"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([Model], CEGISResult SolvingFailure))
 -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337881"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337881"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1124"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; inputs
-&gt; (Either e v -&gt; CEGISCondition)
-&gt; t
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall t (u :: * -&gt; *) e v inputs handle.
(UnionWithExcept t u e v, PlainUnion u, Functor u, EvalSym inputs,
 ExtractSym inputs, Solver handle, SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (Either e v -&gt; CEGISCondition)
-&gt; t
-&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAllExcept"><span class="hs-identifier hs-var">solverCegisForAllExcept</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337880"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337881"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337877"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">Either e v -&gt; CEGISCondition
</span><a href="#local-6989586621682337878"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682337879"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1125"></span><span>
</span><span id="line-1126"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-1127"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, with a forall variable.</span><span>
</span><span id="line-1128"></span><span class="hs-comment">--</span><span>
</span><span id="line-1129"></span><span class="hs-comment">-- See 'cegisForAll' and 'cegisExceptVC'.</span><span>
</span><span id="line-1130"></span><span id="local-6989586621682336750"><span id="local-6989586621682336751"><span id="local-6989586621682336752"><span id="local-6989586621682336753"><span id="local-6989586621682336754"><span id="local-6989586621682336755"><span id="local-6989586621682336756"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisForAllExceptVC"><span class="hs-identifier hs-type">cegisForAllExceptVC</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1131"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336750"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336751"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336752"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336753"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1132"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336751"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1133"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682336751"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1134"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336754"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1135"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336754"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1136"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier hs-type">ConfigurableSolver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336755"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336756"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1137"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier hs-type">SymEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336754"><span class="hs-identifier hs-type">inputs</span></a></span><span>
</span><span id="line-1138"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1139"></span><span>  </span><span class="annot"><a href="#local-6989586621682336755"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1140"></span><span>  </span><span class="annot"><a href="#local-6989586621682336754"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1141"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682336752"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336753"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682336751"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#VerificationConditions"><span class="hs-identifier hs-type">VerificationConditions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1142"></span><span>  </span><span class="annot"><a href="#local-6989586621682336750"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1143"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Grisette.Internal.SymPrim.Prim.Model.html#Model"><span class="hs-identifier hs-type">Model</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-1144"></span><span id="cegisForAllExceptVC"><span class="annot"><span class="annottext">cegisForAllExceptVC :: forall t (u :: * -&gt; *) e v inputs config handle.
(UnionWithExcept t u e v, PlainUnion u, Monad u, EvalSym inputs,
 ExtractSym inputs, ConfigurableSolver config handle,
 SymEq inputs) =&gt;
config
-&gt; inputs
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; t
-&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisForAllExceptVC"><span class="hs-identifier hs-var hs-var">cegisForAllExceptVC</span></a></span></span><span> </span><span id="local-6989586621682337899"><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337899"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621682337900"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337900"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621682337901"><span class="annot"><span class="annottext">Either e v -&gt; u (Either VerificationConditions ())
</span><a href="#local-6989586621682337901"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682337902"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682337902"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1145"></span><span>  </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337899"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([Model], CEGISResult SolvingFailure))
 -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337903"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337903"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1146"></span><span>    </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337899"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([Model], CEGISResult SolvingFailure))
 -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337904"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337904"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1147"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; inputs
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; t
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall t (u :: * -&gt; *) e v inputs handle.
(UnionWithExcept t u e v, PlainUnion u, Monad u, EvalSym inputs,
 ExtractSym inputs, Solver handle, SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; (Either e v -&gt; u (Either VerificationConditions ()))
-&gt; t
-&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAllExceptVC"><span class="hs-identifier hs-var">solverCegisForAllExceptVC</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337903"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337904"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337900"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">Either e v -&gt; u (Either VerificationConditions ())
</span><a href="#local-6989586621682337901"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682337902"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1148"></span><span>
</span><span id="line-1149"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-1150"></span><span class="hs-comment">-- CEGIS for symbolic programs with error handling, with a forall variable.</span><span>
</span><span id="line-1151"></span><span class="hs-comment">--</span><span>
</span><span id="line-1152"></span><span class="hs-comment">-- See 'cegisForAll' and 'cegisExceptStdVC'.</span><span>
</span><span id="line-1153"></span><span id="local-6989586621682336764"><span id="local-6989586621682336765"><span id="local-6989586621682336766"><span id="local-6989586621682336767"><span id="local-6989586621682336768"><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisForAllExceptStdVC"><span class="hs-identifier hs-type">cegisForAllExceptStdVC</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1154"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#UnionWithExcept"><span class="hs-identifier hs-type">UnionWithExcept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336764"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336765"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Control.Exception.html#VerificationConditions"><span class="hs-identifier hs-type">VerificationConditions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-1155"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.PlainUnion.html#PlainUnion"><span class="hs-identifier hs-type">PlainUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336765"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1156"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682336765"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1157"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.EvalSym.html#EvalSym"><span class="hs-identifier hs-type">EvalSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336766"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1158"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.ExtractSym.html#ExtractSym"><span class="hs-identifier hs-type">ExtractSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336766"><span class="hs-identifier hs-type">inputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1159"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#ConfigurableSolver"><span class="hs-identifier hs-type">ConfigurableSolver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336767"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336768"><span class="hs-identifier hs-type">handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1160"></span><span>    </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.SymEq.html#SymEq"><span class="hs-identifier hs-type">SymEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682336766"><span class="hs-identifier hs-type">inputs</span></a></span><span>
</span><span id="line-1161"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1162"></span><span>  </span><span class="annot"><a href="#local-6989586621682336767"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1163"></span><span>  </span><span class="annot"><a href="#local-6989586621682336766"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1164"></span><span>  </span><span class="annot"><a href="#local-6989586621682336764"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1165"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Grisette.Internal.SymPrim.Prim.Model.html#Model"><span class="hs-identifier hs-type">Model</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#CEGISResult"><span class="hs-identifier hs-type">CEGISResult</span></a></span><span> </span><span class="annot"><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#SolvingFailure"><span class="hs-identifier hs-type">SolvingFailure</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-1166"></span><span id="cegisForAllExceptStdVC"><span class="annot"><span class="annottext">cegisForAllExceptStdVC :: forall t (u :: * -&gt; *) inputs config handle.
(UnionWithExcept t u VerificationConditions (), PlainUnion u,
 Monad u, EvalSym inputs, ExtractSym inputs,
 ConfigurableSolver config handle, SymEq inputs) =&gt;
config -&gt; inputs -&gt; t -&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#cegisForAllExceptStdVC"><span class="hs-identifier hs-var hs-var">cegisForAllExceptStdVC</span></a></span></span><span> </span><span id="local-6989586621682337922"><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337922"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621682337923"><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337923"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621682337924"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682337924"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1167"></span><span>  </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337922"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([Model], CEGISResult SolvingFailure))
 -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337925"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337925"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1168"></span><span>    </span><span class="annot"><span class="annottext">config
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall config handle a.
ConfigurableSolver config handle =&gt;
config -&gt; (handle -&gt; IO a) -&gt; IO a
</span><a href="Grisette.Internal.Internal.Decl.Core.Data.Class.Solver.html#withSolver"><span class="hs-identifier hs-var">withSolver</span></a></span><span> </span><span class="annot"><span class="annottext">config
</span><a href="#local-6989586621682337922"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">((handle -&gt; IO ([Model], CEGISResult SolvingFailure))
 -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; (handle -&gt; IO ([Model], CEGISResult SolvingFailure))
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682337926"><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337926"><span class="hs-identifier hs-var">verifierSolver</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1169"></span><span>      </span><span class="annot"><span class="annottext">handle
-&gt; handle
-&gt; inputs
-&gt; t
-&gt; IO ([Model], CEGISResult SolvingFailure)
forall t (u :: * -&gt; *) inputs handle.
(UnionWithExcept t u VerificationConditions (), PlainUnion u,
 Monad u, EvalSym inputs, ExtractSym inputs, Solver handle,
 SymEq inputs) =&gt;
handle
-&gt; handle
-&gt; inputs
-&gt; t
-&gt; IO ([Model], CEGISResult SolvingFailure)
</span><a href="Grisette.Internal.Core.Data.Class.CEGISSolver.html#solverCegisForAllExceptStdVC"><span class="hs-identifier hs-var">solverCegisForAllExceptStdVC</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337925"><span class="hs-identifier hs-var">synthesizerSolver</span></a></span><span> </span><span class="annot"><span class="annottext">handle
</span><a href="#local-6989586621682337926"><span class="hs-identifier hs-var">verifierSolver</span></a></span><span> </span><span class="annot"><span class="annottext">inputs
</span><a href="#local-6989586621682337923"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682337924"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-1170"></span></pre></body></html>